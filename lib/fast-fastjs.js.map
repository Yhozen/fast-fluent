{"version":3,"sources":["webpack://fast-fastjs/webpack/universalModuleDefinition","webpack://fast-fastjs/webpack/bootstrap","webpack://fast-fastjs/./src/utilities.js","webpack://fast-fastjs/./src/models/Configuration.js","webpack://fast-fastjs/./src/Fluent/Model.js","webpack://fast-fastjs/external \"moment\"","webpack://fast-fastjs/./src/models/Form.js","webpack://fast-fastjs/./node_modules/@stamp/it/index.js","webpack://fast-fastjs/./src/Wrappers/Connection.js","webpack://fast-fastjs/./src/Fluent/Fluent.js","webpack://fast-fastjs/external \"bluebird\"","webpack://fast-fastjs/./node_modules/await-to-js/dist/await-to-js.es5.js","webpack://fast-fastjs/./src/models/Submission.js","webpack://fast-fastjs/./node_modules/@stamp/compose/index.js","webpack://fast-fastjs/./node_modules/@stamp/is/object.js","webpack://fast-fastjs/./src/Wrappers/Event.js","webpack://fast-fastjs/./node_modules/@stamp/is/function.js","webpack://fast-fastjs/./src/Fluent/Interface.js","webpack://fast-fastjs/external \"axios\"","webpack://fast-fastjs/./src/models/Translation.js","webpack://fast-fastjs/./src/models/Pages.js","webpack://fast-fastjs/./src/models/User.js","webpack://fast-fastjs/./src/repositories/Auth/Auth.js","webpack://fast-fastjs/./src/models/Role.js","webpack://fast-fastjs/(webpack)/buildin/global.js","webpack://fast-fastjs/./node_modules/@stamp/is/array.js","webpack://fast-fastjs/./node_modules/@stamp/is/stamp.js","webpack://fast-fastjs/./node_modules/@stamp/core/assign.js","webpack://fast-fastjs/./node_modules/@stamp/core/merge.js","webpack://fast-fastjs/./node_modules/uuid/v4.js","webpack://fast-fastjs/./src/repositories/Database/Sync.js","webpack://fast-fastjs/external \"md5\"","webpack://fast-fastjs/./src/repositories/Database/Scheduler.js","webpack://fast-fastjs/./src/index.js","webpack://fast-fastjs/./src/start.js","webpack://fast-fastjs/./node_modules/@stamp/is/composable.js","webpack://fast-fastjs/./node_modules/@stamp/is/plain-object.js","webpack://fast-fastjs/./node_modules/@stamp/shortcut/index.js","webpack://fast-fastjs/./node_modules/@stamp/is/string.js","webpack://fast-fastjs/./src/Fluent/Connectors/local/Loki/FluentConnector.js","webpack://fast-fastjs/./src/Fluent/Connectors/local/Loki/Database.js","webpack://fast-fastjs/external \"lokijs\"","webpack://fast-fastjs/./node_modules/lokijs/src/loki-indexed-adapter.js","webpack://fast-fastjs/./node_modules/uuid/lib/rng-browser.js","webpack://fast-fastjs/./node_modules/uuid/lib/bytesToUuid.js","webpack://fast-fastjs/./src/Fluent/Collection.js","webpack://fast-fastjs/./src/Fluent/Connectors/remote/Formio/FluentConnector.js","webpack://fast-fastjs/./src/Fluent/Connectors/merged/Formio-Loki/FluentConnector.js","webpack://fast-fastjs/./node_modules/@stamp/privatize/index.js","webpack://fast-fastjs/./src/models/repositories/Labels.js","webpack://fast-fastjs/./src/repositories/Database/SyncInterval.js","webpack://fast-fastjs/./src/models/repositories/Columns.js","webpack://fast-fastjs/./src/repositories/Submission/OfflineData.js","webpack://fast-fastjs/./src/repositories/Date/moment.js","webpack://fast-fastjs/./src/repositories/Submission/ParallelSurvey.js","webpack://fast-fastjs/./src/repositories/Submission/Import.js","webpack://fast-fastjs/./src/offlinePlugin/offlinePlugin.js","webpack://fast-fastjs/./src/offlinePlugin/getRequest.js","webpack://fast-fastjs/./src/repositories/Submission/Hash.js"],"names":["Utilities","cloneDeep","JSON","parse","stringify","object","get","fn","def","e","getFromPath","obj","path","_path","includes","split","assignedName","Array","isArray","trim","undefined","fullPath","replace","filter","Boolean","map","everyFunc","step","result","every","label","value","uniqBy","arr","predicate","cb","o","reduce","item","key","has","set","Map","values","orderBy","isEmpty","length","hasOwnProperty","call","debounce","time","timeout","functionCall","apply","arguments","clearTimeout","setTimeout","deleteNulls","k","splice","eachComponent","components","includeAll","parent","forEach","component","hasColumns","columns","hasRows","rows","hasComps","noRecurse","newPath","componentMap","tree","subPath","type","column","row","matchComponent","query","matches","Object","keys","findComponents","results","push","unixDate","Math","round","Date","freeze","Fluent","extend","Model","properties","name","remoteConnection","token","methods","appConf","forceOnline","String","offlineStart","setOffline","setOnline","local","first","localConfig","localConfigDate","getConfigDate","offlineConfigDate","offlineFiles","lastUpdated","date","clear","sure","insert","Configuration","data","fastUpdated","unix","remote","remoteConfig","Error","config","compose","privatize","privatizeMethods","pullForm","connector","merge","getModelName","getFluentConfig","FLUENT","window","_FLUENT_","global","getConnector","connectors","getConnectorFromArray","Lcon","find","c","base","default","remoteCon","remoteConnector","localConnector","merged","mergeConnector","Privatize","getModel","where","cardFormattedForms","action","tags","indexOf","sort","a","b","title","f","customIcon","icon","subtitle","modified","fromNow","actions","text","target","view","cards","FormLabels","selection","i18n","forms","Labels","getUpdatedAt","localForms","localDate","offlineForms","Forms","form","remoteForms","getFastTableTemplates","fullForm","templates","FAST_TABLE_TEMPLATE","template","Connection","online","navigator","onLine","Event","emit","initEventListeners","listen","callback","console","log","isOnline","Promise","resolve","reject","axios","then","res","catch","err","_FLUENT_REMOTE_CONNECTORS","_FLUENT_LOCAL_CONNECTORS","_FLUENT_MERGE_CONNECTORS","init","registerGlobalVariable","model","args","registerModel","collect","models","REMOTE_CONNECTORS","LOCAL_CONNECTORS","MERGE_CONNECTORS","getConfig","id","_id","offline","formId","Auth","email","sync","draft","created","stored","user","getUnsync","andWhere","d","queuedForSync","unsynced","showView","from","Columns","getTableView","cols","submissions","select","Form","sub","s","status","HumanUpdated","Number","isInteger","moment","syncError","updated","newFx","Function","t","error","getParallelParticipants","currentSubmission","groupId","parallelSurvey","parallelSurveyID","submission","survey","getParallelSurvey","parallelsurveyInfo","paraparallelSurvey","setParallelSurvey","getGroups","formio","groups","groupName","group","getGroup","removeFromGroup","assingToGroup","submissionId","parallelData","update","CustomEvent","event","params","evt","document","createEvent","bubbles","cancelable","detail","initCustomEvent","customEvent","dispatchEvent","addEventListener","remove","removeEventListener","chainReference","whereArray","orWhereArray","selectArray","orderByArray","limitNumber","offsetNumber","populate","chunk","pullSize","operators","all","findOne","softDelete","updateOrCreate","findAndRemove","owner","own","prepareInput","method","concat","elem","pos","jsApplySelect","_data","newElement","extract","element","attribute","offset","skip","arg","orWhere","limit","take","pluck","keyPath","extracted","jsApplyOrderBy","field","order","A","B","input","ArrayInsert","dataArray","options","initial","showProgress","getFormTranslations","localTranslations","languageCode","supportedLanguages","translations","isoLanguages","getIsoLanguages","languages","iso","l","code","require","getLocalizationDate","offlineTranslations","Translations","process","trans","storeTranslations","appTranslations","translationsArray","lenguages","translation","language","updateLabel","newTranslations","createTranslation","en","localPages","getUpdatedDate","offlinePages","Pages","pages","storeLocally","localUser","isUserAlreadyStored","onlineUser","updateUser","login","credentials","role","url","APP_URL","post","localAuthenticate","username","password","hashedPassword","MD5_KEY","User","dbUser","userFound","isValidUser","remoteAuthenticate","baseUrl","response","authenticate","attempt","headers","x_jwt_token","localStorage","setItem","Role","roles","rolesNames","getItem","removeItem","hasRole","roleName","r","hasRoleIn","some","hasRoleIdIn","rolesIds","appRoles","reducer","roleId","check","logOut","getRolesDate","localRoles","remoteRoles","insertedRoles","rolesDate","offlineRolesDate","Roles","Sync","vm","syncUsers","syncSubmission","areUsersSynced","usersAreSync","unsyncSubmissions","Scheduler","isSyncing","OfflineData","send","getUsersToSync","users","FastIsSyncing","loki","formioLoki","Moment","FAST","Submission","ParallelSurvey","Translation","Import","OfflinePlugin","Hash","setConfig","FLUENT_FORMIO_BASEURL","fluentFormioBaseUrl","FAST_CONFIG_ID","appConfigId","FAST_CONFIG_URL","appConfigUrl","OFFLINE_START","SyncInterval","defaultLanguage","start","Interface","filterObject","prepareFilter","chain","andObject","$and","orObject","$or","globalFilter","conditionToObject","lokiOperator","getLokiOperator","operator","lokiOperators","like","regexp","startsWith","endsWith","contains","converted","Database","DB","getCollection","mod","removeIndices","getModels","_create","env","idbAdapter","pa","db","dbConfig","autosave","autosaveInterval","autoload","autoloadCallback","databaseInitialize","throttledSaves","LokiIndexedAdapter","Loki","LokiPartitioningAdapter","paging","adapter","baseModels","dbModel","addCollection","shouldRecreate","windowModels","dbModels","collections","acc","collection","should","avg","average","sum","chunks","size","collapse","unChunk","combine","array","index","_value","Fx","isFunction","val","count","functionToCheck","toString","getToken","httpGET","httpPOST","httpPUT","promises","httpDelete","removed","getUrl","getHeaders","getTokenType","getSpacer","substr","filters","getFilters","getLimit","getSkip","getSelect","spacer","put","delete","filterQuery","valueString","condition","substring","join","localFx","remoteFx","prepareMergedFunctions","localData","remoteData","handle","fetchAllLabels","labels","translationsLabels","translationLabel","allLabels","formLabels","getFormLabels","getAppLabels","appLabels","mergeLabels","getPagesLabels","pagesLabels","newObject","location","picture","labelsObject1","labelsObject2","createOrAdd","componentLabels","formioLabelsPositions","position","content","questions","q","v","page","card","milliseconds","rInterval","delay","dateNow","now","requestAnimation","requestAnimationFrame","stop","intervalFunc","_debouncedSync","tableView","slice","offlineSubmissions","PromiseEach","startSync","offlineSubmission","sendSubmission","stopSync","remoteEndPoint","insertedData","locale","getLenguage","getGroupId","submissionHasGroup","assign","getNewUserWizard","getNewGroupWizard","createWizard","info","prepareNewUserObject","prepareNewGroupObject","createNewSurvey","progressSteps","steps","$t","inputValidator","participantName","nextParticipant","surveyData","file","reader","FileReader","onload","theFile","json","ex","parseJson","readAsText","getFormIOInstance","each","prepareSubmission","saveSubmission","imported","$swal","$eventHub","formSubmission","redirect","trigger","add","OFFLINE_PLUGIN","plugin","priority","preRequest","GetRequest","request","staticRequest","handleExternalAPI","handleLocalForm","handleInternalResource","formID","string","hashed"],"mappings":"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AEA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,eAAe,OAAO;AACtB,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT,oBAAoB,gBAAgB;AACpC;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,QAAQ;AACR;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA;;AAEA,wBAAwB,sBAAsB;AAC9C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,wBAAwB,sBAAsB;AAC9C;AACA;AACA;AACA;;AAEA;AACA;;AAEA,wBAAwB,+CAA+C;AACvE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iEAAiE,oCAAoC;AACrG,iDAAiD,aAAa;AAC9D,iDAAiD,aAAa;AAC9D;AACA;AACA;AACA;AACA,uDAAuD,YAAY;AACnE;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA,0BAA0B,wBAAwB;AAClD;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,4BAA4B,iBAAiB;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS;;AAET;AACA;AACA;AACA,4BAA4B,gBAAgB;AAC5C;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA,0BAA0B,iBAAiB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,iEAAiE,gBAAgB;AACjF;AACA,OAAO;;AAEP;AACA;AACA;AACA,0BAA0B,iBAAiB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;;AAEA,6CAA6C;AAC7C;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;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","file":"fast-fastjs.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"moment\"), require(\"bluebird\"), require(\"axios\"), require(\"md5\"), require(\"lokijs\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"fast-fastjs\", [\"moment\", \"bluebird\", \"axios\", \"md5\", \"lokijs\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fast-fastjs\"] = factory(require(\"moment\"), require(\"bluebird\"), require(\"axios\"), require(\"md5\"), require(\"lokijs\"));\n\telse\n\t\troot[\"fast-fastjs\"] = factory(root[\"moment\"], root[\"bluebird\"], root[\"axios\"], root[\"md5\"], root[\"lokijs\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE__3__, __WEBPACK_EXTERNAL_MODULE__8__, __WEBPACK_EXTERNAL_MODULE__16__, __WEBPACK_EXTERNAL_MODULE__29__, __WEBPACK_EXTERNAL_MODULE__40__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 31);\n","/* eslint-disable no-unused-vars */\nlet Utilities = (() => {\n  /**\n   * Deep clones a JS object using JSON.parse\n   * This function will not clone object\n   * functions\n   * @param {Object} object\n   */\n  const cloneDeep = object => {\n    return JSON.parse(JSON.stringify(object));\n  };\n  /**\n   * Given an Object and its path, if exisits it will\n   * return the value of it, if not the default\n   * @param {Object} obj\n   * @param {String} path\n   * @param {*} def\n   */\n  const get = (fn, def) => {\n    try {\n      return fn();\n    } catch (e) {\n      return def;\n    }\n  };\n  /**\n   *\n   * @param {*} obj\n   * @param {*} path\n   * @param {*} def\n   */\n  const getFromPath = (obj, path, def) => {\n    let _path = path;\n\n    if (path.includes(' as ')) {\n      path = path.split(' as ');\n      _path = path[0];\n    }\n\n    let assignedName = get(() => {\n      return Array.isArray(path) && path[1].trim();\n    }, undefined);\n\n    let fullPath = _path\n      .replace(/\\[/g, '.')\n      .replace(/]/g, '')\n      .split('.')\n      .filter(Boolean)\n      .map(e => e.trim());\n\n    function everyFunc (step) {\n      return !(step && (obj = obj[step]) === undefined);\n    }\n\n    let result = fullPath.every(everyFunc) ? obj : def;\n\n    return { label: assignedName || _path, value: result };\n  };\n  /**\n   *\n   * @param {*} arr\n   * @param {*} predicate\n   */\n  const uniqBy = (arr, predicate) => {\n    const cb = typeof predicate === 'function' ? predicate : o => o[predicate];\n\n    return [\n      ...arr\n        .reduce((map, item) => {\n          const key = cb(item);\n\n          map.has(key) || map.set(key, item);\n\n          return map;\n        }, new Map())\n        .values()\n    ];\n  };\n  /**\n   *\n   */\n  const orderBy = () => {};\n  /**\n   *\n   * @param {*} value\n   */\n  const isEmpty = value => {\n    if (!value) {\n      return true;\n    }\n    if (Array.isArray(value) || typeof value === 'string') {\n      return !value.length;\n    }\n    for (let key in value) {\n      if (hasOwnProperty.call(value, key)) {\n        return false;\n      }\n    }\n    return true;\n  };\n  /**\n   *\n   * @param {*} fn\n   * @param {*} time\n   */\n  const debounce = (fn, time) => {\n    let timeout;\n\n    return function () {\n      const functionCall = () => fn.apply(this, arguments);\n\n      clearTimeout(timeout);\n      timeout = setTimeout(functionCall, time);\n    };\n  };\n  /**\n   * Recursively removes all NULL values\n   * from an Object or an Array\n   *\n   * @static\n   * @param {Array|Object} object Array, Object to clean\n   * @returns {Array|Object} returns the cleaned value\n   */\n  const deleteNulls = object => {\n    let obj = object;\n    var isArray = obj instanceof Array;\n\n    for (let k in obj) {\n      if (obj[k] === null) isArray ? obj.splice(k, 1) : delete obj[k];\n      else if (typeof obj[k] === 'object') deleteNulls(obj[k]);\n    }\n    return obj;\n  };\n\n  const eachComponent = (components, fn, includeAll, path, parent) => {\n    if (!components) return;\n    path = path || '';\n    components.forEach(component => {\n      if (!component) {\n        return;\n      }\n      const hasColumns = component.columns && Array.isArray(component.columns);\n      const hasRows = component.rows && Array.isArray(component.rows);\n      const hasComps =\n        component.components && Array.isArray(component.components);\n      let noRecurse = false;\n      const newPath = component.key ?\n        path ?\n          `${path}.${component.key}` :\n          component.key :\n        '';\n\n      // Keep track of parent references.\n      if (parent) {\n        // Ensure we don't create infinite JSON structures.\n        component.parent = { ...parent };\n        delete component.parent.components;\n        delete component.parent.componentMap;\n        delete component.parent.columns;\n        delete component.parent.rows;\n      }\n\n      if (\n        includeAll ||\n        component.tree ||\n        (!hasColumns && !hasRows && !hasComps)\n      ) {\n        noRecurse = fn(component, newPath);\n      }\n\n      const subPath = () => {\n        if (\n          component.key &&\n          ![\n            'panel',\n            'table',\n            'well',\n            'columns',\n            'fieldset',\n            'tabs',\n            'form'\n          ].includes(component.type) &&\n          (['datagrid', 'container', 'editgrid'].includes(component.type) ||\n            component.tree)\n        ) {\n          return newPath;\n        } else if (component.key && component.type === 'form') {\n          return `${newPath}.data`;\n        }\n        return path;\n      };\n\n      if (!noRecurse) {\n        if (hasColumns) {\n          component.columns.forEach(column =>\n            eachComponent(\n              column.components,\n              fn,\n              includeAll,\n              subPath(),\n              parent ? component : null\n            )\n          );\n        } else if (hasRows) {\n          component.rows.forEach(row => {\n            if (Array.isArray(row)) {\n              row.forEach(column =>\n                eachComponent(\n                  column.components,\n                  fn,\n                  includeAll,\n                  subPath(),\n                  parent ? component : null\n                )\n              );\n            }\n          });\n        } else if (hasComps) {\n          eachComponent(\n            component.components,\n            fn,\n            includeAll,\n            subPath(),\n            parent ? component : null\n          );\n        }\n      }\n    });\n  };\n\n  const matchComponent = (component, query) => {\n    if (typeof query === 'string') {\n      return component.key === query;\n    }\n    let matches = false;\n\n    Object.keys(query).forEach(path => {\n      matches = getFromPath(component, path).value === query[path];\n      if (!matches) {\n        return false;\n      }\n    });\n    return matches;\n  };\n\n  const findComponents = (components, query) => {\n    const results = [];\n\n    eachComponent(\n      components,\n      (component, path) => {\n        if (matchComponent(component, query)) {\n          component.path = path;\n          results.push(component);\n        }\n      },\n      true\n    );\n    return results;\n  };\n\n  const unixDate = () => {\n    return Math.round(+new Date() / 1000);\n  };\n\n  return Object.freeze({\n    cloneDeep,\n    get,\n    orderBy,\n    isEmpty,\n    debounce,\n    getFromPath,\n    deleteNulls,\n    eachComponent,\n    findComponents,\n    unixDate\n  });\n})();\n\nexport default Utilities;\n","import Fluent from \"../Fluent/Fluent\";\nimport Utilities from \"utilities\";\nimport moment from \"moment\";\nimport Model from \"../Fluent/Model\";\n// TODO We still have to figure out how to solve the problem of\n// The CONFIG URL and FLUENT_URL changing on APP sync\n// Every page refresh will make the urls go back to their default\nexport default Fluent.extend(Model, {\n  properties: {\n    name: \"Configuration\",\n    remoteConnection: {\n      path: \"configuration\",\n      token: null,\n      type: \"config\"\n    }\n  },\n  methods: {\n    /**\n     * Decides whether to set Configurations\n     * Online or Offline\n     * @param {Object} config.appConfig The application Config\n     * @param {Boolean} config.forceOnline If we need online\n     */\n    async set({ appConf, forceOnline }) {\n      if (String(appConf.offlineStart) === \"true\" && !forceOnline) {\n        return this.setOffline({ appConf });\n      }\n      return this.setOnline({ appConf });\n    },\n    /**\n     *\n     * @param {*} param0\n     */\n    async setOffline({ appConf }) {\n      let localConfig = await this.local().first();\n\n      let localConfigDate = this.getConfigDate(localConfig);\n      let offlineConfigDate = appConf.offlineFiles.lastUpdated.date;\n\n      // If local config is newer than offline\n      if (localConfigDate > offlineConfigDate) {\n        return localConfig;\n      }\n\n      if (localConfig) {\n        await this.local().clear({ sure: true });\n      }\n\n      return this.local().insert({\n        ...appConf.offlineFiles.Configuration.data,\n        fastUpdated: moment().unix()\n      });\n    },\n    /**\n     *\n     * @param {*} param0\n     */\n    async setOnline({ appConf }) {\n      let localConfig = await this.local().first();\n\n      let remoteConfig = await this.remote({ token: false }).first();\n\n      if (!localConfig && !remoteConfig) {\n        throw new Error(\n          \"Application is not connected to internet, or the configuration file cannot be pulled\"\n        );\n      }\n\n      if (!remoteConfig) {\n        return localConfig;\n      }\n\n      if (localConfig) {\n        await this.local().clear({ sure: true });\n      }\n      return this.local().insert({\n        ...remoteConfig.data,\n        fastUpdated: moment().unix()\n      });\n    },\n    /**\n     *\n     * @param {*} config\n     */\n    getConfigDate(config) {\n      return Utilities.get(() => config.fastUpdated, 0);\n    }\n  }\n})\n  .compose(Fluent.privatize)\n  .privatizeMethods(\n    \"setOnlineConfig\",\n    \"setOfflineConfig\",\n    \"getConfigDate\",\n    \"assingGlobalVariable\",\n    \"getRemote\"\n  )();\n","import stampit from '@stamp/it';\nimport Privatize from '@stamp/privatize';\n\nexport default stampit({\n  properties: {\n    name: 'baseModel',\n    config: {\n      remote: {\n        path: '/myRemote/model',\n        token: undefined,\n        pullForm: false\n      },\n      local: {\n        connector: 'loki'\n      },\n      merge: {\n        connector: 'formio-loki'\n      }\n    }\n  },\n  methods: {\n    /**\n     * \n     */\n    getModelName() {\n      return this.name;\n    },\n    /**\n     * \n     */\n    getFluentConfig() {\n      let FLUENT;\n      if ((typeof window !== 'undefined') && window && window._FLUENT_) {\n        FLUENT = window._FLUENT_\n      } else if (global && global._FLUENT_) {\n        FLUENT = global._FLUENT_\n      }\n\n      return FLUENT\n    },\n    /**\n     * \n     * @param {*} connectors \n     * @param {*} type \n     */\n    getConnector(connectors, type) {\n      if (Array.isArray(connectors)) {\n        return this.getConnectorFromArray(connectors, type)\n      }\n\n      if (connectors instanceof Object) {\n        return connectors\n      }\n\n      return undefined\n    },\n    /**\n     * \n     * @param {*} connectors \n     * @param {*} type \n     */\n    getConnectorFromArray(connectors, type) {\n      // Default case\n      if (connectors.length === 1) {\n        return connectors[0]\n      }\n\n      // If the model assigns specific one\n      if (this.config && this.config[type] && this.config[type].connector) {\n        const Lcon = connectors.find(c => c.name === this.config[type].connector)\n\n        if (Lcon instanceof Object) {\n          return Lcon\n        }\n      }\n\n      const base = connectors.find(c => c.default);\n\n      if (base instanceof Object) {\n        return base\n      }\n\n      return undefined\n    },\n    /**\n     * [remote description]\n     * @return {[type]} [description]\n     */\n    remote({ token = undefined, pullForm = undefined } = {}) {\n      const FLUENT = this.getFluentConfig();\n      const connectors = FLUENT && FLUENT.connectors && FLUENT.connectors.remote;\n\n      if (!connectors) {\n        throw new Error('No remote connector was defined. Please define it using Fluent.config()')\n      }\n\n      this.remoteCon.token = this.remoteCon.token || token\n\n      if (pullForm) {\n        this.remoteCon.pullForm = pullForm;\n      }\n\n\n      const remoteConnector = this.getConnector(connectors, 'remote')\n\n      if (remoteConnector) {\n        return remoteConnector.connector({\n          remoteConnection: this.remoteCon\n        })\n      }\n\n      throw new Error('No default remote connector found. Please assign one as your default in Fluent.config')\n    },\n    /**\n     * [local description]\n     * @return {[type]} [description]\n     */\n    local() {\n      const FLUENT = this.getFluentConfig();\n      const connectors = FLUENT && FLUENT.connectors && FLUENT.connectors.local;\n\n      if (!connectors) {\n        throw new Error('No local connector was defined. Please define it using Fluent.config()')\n      }\n\n      const localConnector = this.getConnector(connectors, 'local')\n\n      if (localConnector) {\n        return localConnector.connector({ name: this.name })\n      }\n\n      throw new Error('No default local connector found. Please assign one as your default in Fluent.config')\n\n    },\n    /**\n    * [local description]\n    * @return {[type]} [description]\n    */\n    merged() {\n      const local = this.local();\n      const remote = this.remote();\n\n      const FLUENT = this.getFluentConfig();\n      const connectors = FLUENT && FLUENT.connectors && FLUENT.connectors.merge;\n\n      if (!connectors) {\n        throw new Error('No merge connector was defined. Please define it using Fluent.config()')\n      }\n\n      const mergeConnector = this.getConnector(connectors, 'merge')\n\n      if (mergeConnector) {\n        return mergeConnector.connector({ local, remote, name: this.name })\n      }\n\n      throw new Error('No default merge connector found. Please assign one as your default in Fluent.config')\n    }\n  }\n}).compose(Privatize);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","import moment from 'moment';\nimport Utilities from 'utilities';\nimport Model from '../Fluent/Model';\nimport Labels from './repositories/Labels';\nimport Configuration from './Configuration';\n\nexport default Model.compose({\n  properties: {\n    name: 'Form',\n    remoteConnection: {\n      path: 'form',\n      pullForm: true\n    }\n  },\n  methods: {\n    getModel ({ path }) {\n      return Model.compose({\n        properties: {\n          remoteConnection: {\n            path\n          }\n        }\n      })();\n    },\n    find ({ path }) {\n      return this.local().where('data.path', '=', path).first();\n    },\n    /**\n     *\n     * @param {*} action\n     */\n    async cardFormattedForms (action) {\n      let result = await this.local().get();\n\n      result = result.filter(o => {\n        return o.data.tags.indexOf('visible') > -1;\n      });\n      result = result.sort((a, b) => {\n        a = a.data.title;\n        b = b.data.title;\n        return a > b ? 1 : a < b ? -1 : 0;\n      });\n\n      result = result.map(f => {\n        return {\n          title: f.data.title,\n          tags: f.data.tags,\n          customIcon: true,\n          icon:\n            action === 'create' ?\n              'statics/customSVG/startSurvey.svg' :\n              'statics/customSVG/collectedData.svg',\n          subtitle: 'Last updated: ' + moment(f.data.modified).fromNow(),\n          actions: [\n            {\n              text: action === 'create' ? 'Start' : 'View data',\n              target: 'form',\n              view: action,\n              path: f.data.path\n            }\n          ]\n        };\n      });\n\n      result = { cards: result };\n      return result;\n    },\n    /**\n     *\n     */\n    async FormLabels (selection, i18n) {\n      let forms = await this.local().get();\n\n      return Labels.get(forms, i18n);\n    },\n    /**\n     *\n     * @param {*} forms\n     */\n    getUpdatedAt (forms) {\n      return Utilities.get(() => forms[0].fastUpdated, 0);\n    },\n    /**\n     *\n     * @param {*} param0\n     */\n    async setOffline ({ appConf }) {\n      let localForms = await this.local().get();\n\n      let localDate = this.getUpdatedAt(localForms);\n      let config = await Configuration.local().first();\n      let offlineForms = Utilities.get(() => appConf.offlineFiles.Forms);\n\n      // If the JSON file is newer than the local\n      // DB data\n      if (config.fastUpdated < localDate) {\n        return localForms;\n      }\n\n      if (localForms) {\n        await this.local().clear({ sure: true });\n      }\n\n      offlineForms.forEach(async form => {\n        await this.local().insert({ data: form, fastUpdated: moment().unix() });\n      });\n      return offlineForms;\n    },\n    /**\n     *\n     */\n    async setOnline () {\n      let remoteForms = await this.remote().get();\n      let unixDate = moment().unix();\n\n      if (remoteForms && !Utilities.isEmpty(remoteForms)) {\n        await this.local().clear({ sure: true });\n        remoteForms.forEach(async form => {\n          await this.local().insert({\n            data: form,\n            fastUpdated: unixDate\n          });\n        });\n      }\n    },\n    /**\n     *\n     * @param {*} param0\n     */\n    async set ({ appConf, forceOnline }) {\n      if (appConf.offlineStart === 'true' && !forceOnline) {\n        return this.setOffline({ appConf });\n      }\n      return this.setOnline();\n    },\n    async getFastTableTemplates ({ path }) {\n      let fullForm = await this.local()\n        .where('data.path', '=', path)\n        .first();\n\n      let templates = [];\n\n      Utilities.eachComponent(fullForm.data.components, c => {\n        if (c.properties && c.properties.FAST_TABLE_TEMPLATE) {\n          templates.push({\n            key: c.key,\n            template: c.properties.FAST_TABLE_TEMPLATE\n          });\n        }\n      });\n\n      return templates;\n    }\n  }\n})();\n","var compose = require('@stamp/compose');\nvar Shortcut = require('@stamp/shortcut');\nvar isStamp = require('@stamp/is/stamp');\nvar isString = require('@stamp/is/string');\nvar isObject = require('@stamp/is/object');\nvar isFunction = require('@stamp/is/function');\nvar merge = require('@stamp/core/merge');\nvar assign = require('@stamp/core/assign');\n\nvar concat = Array.prototype.concat;\nfunction extractFunctions() {\n  var fns = concat.apply([], arguments).filter(isFunction);\n  return fns.length === 0 ? undefined : fns;\n}\n\nfunction standardiseDescriptor(descr) {\n  if (!isObject(descr)) return descr;\n\n  var methods = descr.methods;\n  var properties = descr.properties;\n  var props = descr.props;\n  var initializers = descr.initializers;\n  var init = descr.init;\n  var composers = descr.composers;\n  var deepProperties = descr.deepProperties;\n  var deepProps = descr.deepProps;\n  var pd = descr.propertyDescriptors;\n  var staticProperties = descr.staticProperties;\n  var statics = descr.statics;\n  var staticDeepProperties = descr.staticDeepProperties;\n  var deepStatics = descr.deepStatics;\n  var configuration = descr.configuration;\n  var conf = descr.conf;\n  var deepConfiguration = descr.deepConfiguration;\n  var deepConf = descr.deepConf;\n\n  var p = isObject(props) || isObject(properties) ?\n    assign({}, props, properties) : undefined;\n\n  var dp = isObject(deepProps) ? merge({}, deepProps) : undefined;\n  dp = isObject(deepProperties) ? merge(dp, deepProperties) : dp;\n\n  var sp = isObject(statics) || isObject(staticProperties) ?\n    assign({}, statics, staticProperties) : undefined;\n\n  var sdp = isObject(deepStatics) ? merge({}, deepStatics) : undefined;\n  sdp = isObject(staticDeepProperties) ? merge(sdp, staticDeepProperties) : sdp;\n\n  var spd = descr.staticPropertyDescriptors;\n  if (isString(descr.name)) spd = assign({}, spd || {}, { name: { value: descr.name } });\n\n  var c = isObject(conf) || isObject(configuration) ?\n    assign({}, conf, configuration) : undefined;\n\n  var dc = isObject(deepConf) ? merge({}, deepConf) : undefined;\n  dc = isObject(deepConfiguration) ? merge(dc, deepConfiguration) : dc;\n\n  var ii = extractFunctions(init, initializers);\n\n  var cc = extractFunctions(composers);\n\n  var descriptor = {};\n  if (methods) descriptor.methods = methods;\n  if (p) descriptor.properties = p;\n  if (ii) descriptor.initializers = ii;\n  if (cc) descriptor.composers = cc;\n  if (dp) descriptor.deepProperties = dp;\n  if (sp) descriptor.staticProperties = sp;\n  if (sdp) descriptor.staticDeepProperties = sdp;\n  if (pd) descriptor.propertyDescriptors = pd;\n  if (spd) descriptor.staticPropertyDescriptors = spd;\n  if (c) descriptor.configuration = c;\n  if (dc) descriptor.deepConfiguration = dc;\n\n  return descriptor;\n}\n\nfunction stampit() {\n  'use strict'; // to make sure `this` is not pointing to `global` or `window`\n  var length = arguments.length, args = [];\n  for (var i = 0; i < length; i += 1) {\n    var arg = arguments[i];\n    args.push(isStamp(arg) ? arg : standardiseDescriptor(arg));\n  }\n\n  return compose.apply(this || baseStampit, args); // jshint ignore:line\n}\n\nvar baseStampit = Shortcut.compose({\n  staticProperties: {\n    create: function () { return this.apply(this, arguments); },\n    compose: stampit // infecting\n  }\n});\n\nvar shortcuts = Shortcut.compose.staticProperties;\nfor (var prop in shortcuts) stampit[prop] = shortcuts[prop].bind(baseStampit);\nstampit.compose = stampit.bind();\n\nmodule.exports = stampit;\n","import Event from './Event';\nimport Promise from 'bluebird';\nimport axios from 'axios';\n/* eslint-disable no-unused-vars */\nlet Connection = (() => {\n  let online = (typeof window !== 'undefined') && window && window.navigator ? window.navigator.onLine : true;\n\n  function setOnline() {\n    if (!online) {\n      online = true;\n      Event.emit({\n        name: 'FAST:CONNECTION:ONLINE',\n        data: online,\n        text: 'Application is now online'\n      });\n    }\n  }\n\n  function setOffline() {\n    if (online) {\n      online = false;\n      Event.emit({\n        name: 'FAST:CONNECTION:OFFLINE',\n        data: online,\n        text: 'Application is now offline'\n      });\n    }\n  }\n\n  /**\n   * [status description]\n   * @return {Promise} [description]\n   */\n  function initEventListeners() {\n    Event.listen({\n      name: 'online',\n      callback: function () {\n        console.log('App is now online');\n        setOnline();\n      }\n    });\n    Event.listen({\n      name: 'offline',\n      callback: function () {\n        console.log('App is now offline');\n        setOffline();\n      }\n    });\n  }\n\n  function isOnline() {\n    return new Promise((resolve, reject) => {\n      axios.get('https://yesno.wtf/api')\n      .then(function (res) {\n        resolve(true);\n      })\n      .catch(function (err) {\n        resolve(false);\n      })\n    });\n  }\n\n  return Object.freeze({\n    isOnline,\n    initEventListeners\n  });\n})();\n\nexport default Connection;\n","import stampit from '@stamp/it';\nimport compose from '@stamp/compose';\nimport Model from './Model';\nimport Collection from './Collection';\n\nvar _FLUENT_REMOTE_CONNECTORS, _FLUENT_LOCAL_CONNECTORS, _FLUENT_MERGE_CONNECTORS\nconst Fluent = stampit({\n  init() {\n    this.registerGlobalVariable();\n  },\n  properties: {\n  },\n  methods: {\n    model(...args) {\n      this.registerModel(args);\n      return Model.compose(...args);\n    },\n    extend(...args) {\n      this.registerModel(args);\n      return Model.compose(...args);\n    },\n    compose(...args) {\n      this.registerModel(args);\n      return Model.compose(...args);\n    },\n    collect(args) {\n      return Collection(args)\n    },\n    registerGlobalVariable() {\n      if ((typeof window !== 'undefined') && window) {\n        window._FLUENT_ = { ...window._FLUENT_, ...{ models: {} } };\n      }\n\n      if (global) {\n        global._FLUENT_ = { ...global._FLUENT_, ...{ models: {} } };\n      }\n    },\n    registerModel(args) {\n      let name =\n        args && args[0] && args[0].properties && args[0].properties.name ?\n          args[0].properties.name : undefined\n\n      if (!name) {\n        return;\n      }\n\n      if (!(typeof name === 'string')) {\n        throw new Error(\n          'You must assign a name to your Model when using Fluent.compose'\n        );\n      }\n\n      if (name !== 'baseModel') {\n        if (typeof window !== 'undefined') {\n          window._FLUENT_.models[name] = true;\n        }\n        global._FLUENT_.models[name] = true;\n      }\n    },\n    config({\n      REMOTE_CONNECTORS = undefined,\n      LOCAL_CONNECTORS = undefined,\n      MERGE_CONNECTORS = undefined\n    }) {\n      if ((typeof window !== 'undefined') && window) {\n        window._FLUENT_ = {\n          ...window._FLUENT_, ...{\n            connectors: {\n              local: LOCAL_CONNECTORS,\n              remote: REMOTE_CONNECTORS,\n              merge: MERGE_CONNECTORS\n            }\n          }\n        };\n      }\n\n      if ((typeof global !== 'undefined') && global) {\n        global._FLUENT_ = {\n          ...global._FLUENT_, ...{\n            connectors: {\n              local: LOCAL_CONNECTORS,\n              remote: REMOTE_CONNECTORS,\n              merge: MERGE_CONNECTORS\n            }\n          }\n        };\n      }\n    },\n    getConfig() {\n      return {\n        REMOTE_CONNECTORS: _FLUENT_REMOTE_CONNECTORS,\n        LOCAL_CONNECTORS: _FLUENT_LOCAL_CONNECTORS,\n        MERGE_CONNECTORS: _FLUENT_MERGE_CONNECTORS\n      };\n    }\n  }\n})();\n\nexport default Fluent;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__8__;","/**\n * @param { Promise } promise\n * @param { Object= } errorExt - Additional Information you can pass to the err object\n * @return { Promise }\n */\nfunction to(promise, errorExt) {\n    return promise\n        .then(function (data) { return [null, data]; })\n        .catch(function (err) {\n        if (errorExt) {\n            Object.assign(err, errorExt);\n        }\n        return [err, undefined];\n    });\n}\n\nexport { to };\nexport default to;\n//# sourceMappingURL=await-to-js.es5.js.map\n","import Auth from 'repositories/Auth/Auth';\nimport moment from 'moment';\nimport Utilities from 'utilities';\nimport Form from 'models/Form';\nimport Model from '../Fluent/Model';\nimport Columns from './repositories/Columns';\n\nexport default Model.compose({\n  properties: {\n    name: 'Submission',\n    remoteConnection: undefined\n  },\n  init ({ path }) {\n    this.path = path;\n    this.remoteConnection = { path };\n  },\n  methods: {\n    async form () {\n      // return this.belongTo('Form', 'path', 'path');\n    },\n    async get (id) {\n      id = id.replace(/\\s/g, '');\n      let offline = await this.local().find({\n        filter: {\n          _id: id\n        }\n      });\n\n      if (offline.length > 0) {\n        return offline[0];\n      }\n      return {\n        data: false\n      };\n    },\n\n    async offline (formId) {\n      let filter = await this.find({\n        'data.user_email': Auth.email(),\n        'data.formio.formId': formId\n      });\n      // updated incomplete submission\n\n      filter = filter.filter(o => {\n        return o.data.sync === false || o.data.draft === false;\n      });\n      filter = filter.sort((a, b) => {\n        a = new Date(a.data.created);\n        b = new Date(b.data.created);\n        return a > b ? -1 : a < b ? 1 : 0;\n      });\n      return filter;\n    },\n\n    async stored (formId) {\n      return this.find({\n        'data.formio.formId': formId,\n        'data.owner': Auth.user()._id\n      });\n    },\n    async getUnsync () {\n      let unsynced = (await this.local()\n        .where('sync', '=', false)\n        .andWhere('draft', '=', false)\n        .andWhere('syncError', '=', false)\n        .andWhere('user_email', '=', Auth.email())\n        .orderBy('created', 'desc', 'date')\n        .get()).filter(d => {\n        return !d.queuedForSync;\n      });\n\n      return unsynced;\n    },\n    async showView (from) {\n      let cols = (await Columns.getTableView(this.path)).map(\n        o => `data.${o.path} as ${o.path}`\n      );\n\n      cols = [\n        ...cols,\n        '_id',\n        'created',\n        'modified',\n        'syncError',\n        'draft',\n        'sync'\n      ];\n\n      let submissions = [];\n\n      if (from === 'remote') {\n        submissions = await this.remote()\n          .select(cols)\n          .get();\n      } else {\n        submissions = await this.merged()\n          .select(cols)\n          .get();\n      }\n\n      let templates = await Form.getFastTableTemplates({ path: this.path });\n\n      submissions = submissions.map(s => {\n        let sub = {\n          _id: s._id,\n          status: s.sync === false ? 'offline' : 'online',\n          draft: s.draft,\n          HumanUpdated: Number.isInteger(s.modified) ?\n            moment.unix(s.modified).fromNow() :\n            moment(s.modified).fromNow(),\n          syncError: s.syncError ? s.syncError : false,\n          updated: Number.isInteger(s.modified) ?\n            s.modified :\n            moment(s.modified).unix()\n        };\n\n        // Custom templates using FAST_TABLE_TEMPLATE propertie\n        templates.forEach(t => {\n          /* eslint-disable */\n          let newFx = new Function(\"value\", \"data\", t.template);\n          /* eslint-enable */\n          try {\n            s[t.key] = newFx(s[t.key], s);\n          } catch (error) {\n            console.log('There is an error in one of your calculations', error);\n          }\n        });\n\n        return { ...sub, ...s };\n      });\n\n      submissions = submissions.sort((a, b) => {\n        a = new Date(a.updated);\n        b = new Date(b.updated);\n        return a > b ? -1 : a < b ? 1 : 0;\n      });\n\n      return submissions;\n    },\n    async getParallelParticipants (_id) {\n      let currentSubmission = await this.local()\n        .where('_id', '=', _id)\n        .get();\n\n      currentSubmission = currentSubmission[0];\n      let groupId = Utilities.get(\n        () => currentSubmission.data.data.parallelSurvey\n      );\n\n      groupId =\n        groupId && groupId !== '[object Object]' ?\n          JSON.parse(groupId).groupId :\n          undefined;\n\n      let submissions = await this.local()\n        .where('path', '=', this.path)\n        .get();\n\n      let a = submissions.filter(submission => {\n        let parallelSurveyID = Utilities.get(\n          () => submission.data.data.parallelSurvey\n        );\n\n        parallelSurveyID =\n          parallelSurveyID && parallelSurveyID !== '[object Object]' ?\n            JSON.parse(parallelSurveyID).groupId :\n            undefined;\n        return parallelSurveyID && parallelSurveyID === groupId;\n      });\n\n      a = a.map(e => {\n        e.data.data.parallelSurvey;\n      });\n      a = a.map(survey => {\n        return JSON.parse(survey);\n      });\n      return a;\n    },\n    getParallelSurvey (submission) {\n      let parallelsurveyInfo =\n        Utilities.get(() => submission.data.data.paraparallelSurvey) ||\n        Utilities.get(() => submission.data.parallelSurvey);\n\n      parallelsurveyInfo =\n        parallelsurveyInfo && parallelsurveyInfo !== '[object Object]' ?\n          JSON.parse(parallelsurveyInfo) :\n          undefined;\n\n      return parallelsurveyInfo;\n    },\n    setParallelSurvey (parallelsurveyInfo) {\n      return JSON.stringify(parallelsurveyInfo);\n    },\n    async getGroups (formId) {\n      let submissions = await this.local().find();\n\n      submissions = formId ?\n        submissions.filter(submission => {\n          return submission.data.formio.formId === formId;\n        }) :\n        submissions;\n\n      let groups = submissions.map(submission => {\n        return this.local().getParallelSurvey(submission) ?\n          {\n            groupId: this.local().getParallelSurvey(submission).groupId,\n            groupName: this.local().getParallelSurvey(submission).groupName\n          } :\n          undefined;\n      });\n\n      groups = groups.filter(group => {\n        return typeof group !== 'undefined';\n      });\n\n      return Utilities.uniqBy(groups, 'groupId');\n    },\n    async getGroup (id) {\n      let groups = await this.local().getGroups();\n\n      groups = groups.filter(group => {\n        return group.groupId === id;\n      });\n      return groups[0];\n    },\n\n    async removeFromGroup (submission) {},\n\n    async assingToGroup (submissionId, groupId) {\n      let group = await this.local().getGroup(groupId[0]);\n      let submission = await this.local().get(submissionId);\n\n      let parallelData = this.local().getParallelSurvey(submission);\n\n      let parallelSurvey = {\n        ...parallelData,\n        groupId: group.groupId,\n        groupName: group.groupName\n      };\n\n      submission.data.data.parallelSurvey = this.local().setParallelSurvey(\n        parallelSurvey\n      );\n      await this.local().update(submission);\n    }\n  }\n});\n","var isArray = require('@stamp/is/array');\nvar isFunction = require('@stamp/is/function');\nvar isObject = require('@stamp/is/object');\nvar isStamp = require('@stamp/is/stamp');\nvar isComposable = require('@stamp/is/composable');\n\nvar assign = require('@stamp/core/assign');\nvar merge = require('@stamp/core/merge');\n\nvar slice = Array.prototype.slice;\n\n/**\n * Creates new factory instance.\n * @returns {Function} The new factory function.\n */\nfunction createFactory() {\n  return function Stamp(options) {\n    var descriptor = Stamp.compose || {};\n    // Next line was optimized for most JS VMs. Please, be careful here!\n    var obj = {__proto__: descriptor.methods}; // jshint ignore:line\n\n    merge(obj, descriptor.deepProperties);\n    assign(obj, descriptor.properties);\n    Object.defineProperties(obj, descriptor.propertyDescriptors || {});\n\n    if (!descriptor.initializers || descriptor.initializers.length === 0) return obj;\n\n    if (options === undefined) options = {};\n    var inits = descriptor.initializers;\n    var length = inits.length;\n    for (var i = 0; i < length; i += 1) {\n      var initializer = inits[i];\n      if (isFunction(initializer)) {\n        var returnedValue = initializer.call(obj, options,\n          {instance: obj, stamp: Stamp, args: slice.apply(arguments)});\n        obj = returnedValue === undefined ? obj : returnedValue;\n      }\n    }\n\n    return obj;\n  };\n}\n\n/**\n * Returns a new stamp given a descriptor and a compose function implementation.\n * @param {Descriptor} [descriptor={}] The information about the object the stamp will be creating.\n * @param {Compose} composeFunction The \"compose\" function implementation.\n * @returns {Stamp}\n */\nfunction createStamp(descriptor, composeFunction) {\n  var Stamp = createFactory();\n\n  if (descriptor.staticDeepProperties) {\n    merge(Stamp, descriptor.staticDeepProperties);\n  }\n  if (descriptor.staticProperties) {\n    assign(Stamp, descriptor.staticProperties);\n  }\n  if (descriptor.staticPropertyDescriptors) {\n    Object.defineProperties(Stamp, descriptor.staticPropertyDescriptors);\n  }\n\n  var composeImplementation = isFunction(Stamp.compose) ? Stamp.compose : composeFunction;\n  Stamp.compose = function _compose() {\n    'use strict'; // to make sure `this` is not pointing to `global` or `window`\n    return composeImplementation.apply(this, arguments);\n  };\n  assign(Stamp.compose, descriptor);\n\n  return Stamp;\n}\n\nfunction concatAssignFunctions(dstObject, srcArray, propName) {\n  if (!isArray(srcArray)) return;\n\n  var length = srcArray.length;\n  var dstArray = dstObject[propName] || [];\n  dstObject[propName] = dstArray;\n  for (var i = 0; i < length; i += 1) {\n    var fn = srcArray[i];\n    if (isFunction(fn) && dstArray.indexOf(fn) < 0) {\n      dstArray.push(fn);\n    }\n  }\n}\n\n\nfunction combineProperties(dstObject, srcObject, propName, action) {\n  if (!isObject(srcObject[propName])) return;\n  if (!isObject(dstObject[propName])) dstObject[propName] = {};\n  action(dstObject[propName], srcObject[propName]);\n}\n\nfunction deepMergeAssign(dstObject, srcObject, propName) {\n  combineProperties(dstObject, srcObject, propName, merge);\n}\nfunction mergeAssign(dstObject, srcObject, propName) {\n  combineProperties(dstObject, srcObject, propName, assign);\n}\n\n/**\n * Mutates the dstDescriptor by merging the srcComposable data into it.\n * @param {Descriptor} dstDescriptor The descriptor object to merge into.\n * @param {Composable} [srcComposable] The composable\n * (either descriptor or stamp) to merge data form.\n */\nfunction mergeComposable(dstDescriptor, srcComposable) {\n  var srcDescriptor = (srcComposable && srcComposable.compose) || srcComposable;\n\n  mergeAssign(dstDescriptor, srcDescriptor, 'methods');\n  mergeAssign(dstDescriptor, srcDescriptor, 'properties');\n  deepMergeAssign(dstDescriptor, srcDescriptor, 'deepProperties');\n  mergeAssign(dstDescriptor, srcDescriptor, 'propertyDescriptors');\n  mergeAssign(dstDescriptor, srcDescriptor, 'staticProperties');\n  deepMergeAssign(dstDescriptor, srcDescriptor, 'staticDeepProperties');\n  mergeAssign(dstDescriptor, srcDescriptor, 'staticPropertyDescriptors');\n  mergeAssign(dstDescriptor, srcDescriptor, 'configuration');\n  deepMergeAssign(dstDescriptor, srcDescriptor, 'deepConfiguration');\n  concatAssignFunctions(dstDescriptor, srcDescriptor.initializers, 'initializers');\n  concatAssignFunctions(dstDescriptor, srcDescriptor.composers, 'composers');\n}\n\n/**\n * Given the list of composables (stamp descriptors and stamps) returns\n * a new stamp (composable factory function).\n * @typedef {Function} Compose\n * @param {...(Composable)} [arguments] The list of composables.\n * @returns {Stamp} A new stamp (aka composable factory function)\n */\nmodule.exports = function compose() {\n  'use strict'; // to make sure `this` is not pointing to `global` or `window`\n  var descriptor = {};\n  var composables = [];\n  if (isComposable(this)) {\n    mergeComposable(descriptor, this);\n    composables.push(this);\n  }\n\n  for (var i = 0; i < arguments.length; i++) {\n    var arg = arguments[i];\n    if (isComposable(arg)) {\n      mergeComposable(descriptor, arg);\n      composables.push(arg);\n    }\n  }\n\n  var stamp = createStamp(descriptor, compose);\n\n  var composers = descriptor.composers;\n  if (isArray(composers) && composers.length > 0) {\n    for (var j = 0; j < composers.length; j += 1) {\n      var composer = composers[j];\n      var returnedValue = composer({stamp: stamp, composables: composables});\n      stamp = isStamp(returnedValue) ? returnedValue : stamp;\n    }\n  }\n\n  return stamp;\n};\n\n\n/**\n * The Stamp Descriptor\n * @typedef {Function|Object} Descriptor\n * @returns {Stamp} A new stamp based on this Stamp\n * @property {Object} [methods] Methods or other data used as object instances' prototype\n * @property {Array<Function>} [initializers] List of initializers called for each object instance\n * @property {Array<Function>} [composers] List of callbacks called each time a composition happens\n * @property {Object} [properties] Shallow assigned properties of object instances\n * @property {Object} [deepProperties] Deeply merged properties of object instances\n * @property {Object} [staticProperties] Shallow assigned properties of Stamps\n * @property {Object} [staticDeepProperties] Deeply merged properties of Stamps\n * @property {Object} [configuration] Shallow assigned properties of Stamp arbitrary metadata\n * @property {Object} [deepConfiguration] Deeply merged properties of Stamp arbitrary metadata\n * @property {Object} [propertyDescriptors] ES5 Property Descriptors applied to object instances\n * @property {Object} [staticPropertyDescriptors] ES5 Property Descriptors applied to Stamps\n */\n\n/**\n * The Stamp factory function\n * @typedef {Function} Stamp\n * @returns {*} Instantiated object\n * @property {Descriptor} compose - The Stamp descriptor and composition function\n */\n\n/**\n * A composable object - stamp or descriptor\n * @typedef {Stamp|Descriptor} Composable\n */\n\n","module.exports = function isObject(arg) {\n  var type = typeof arg;\n  return Boolean(arg) && (type === 'object' || type === 'function');\n};\n","let Event = (() => {\n  let CustomEvent = function (event, params) {\n    var evt = document.createEvent('CustomEvent');\n\n    params = params || { bubbles: false, cancelable: false, detail: undefined };\n\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  };\n\n  function emit ({ name, data, text }) {\n    if (!name) throw new Error('Event must have a name.');\n    if (!data) throw new Error('Event must have data.');\n    if (!text) throw new Error('Event must have a text.');\n    let customEvent = CustomEvent(name, {\n      detail: {\n        data: data,\n        text: text\n      }\n    });\n\n    window.dispatchEvent(customEvent);\n  }\n  function listen ({ name, callback }) {\n    if (!name) throw new Error('Listener must have a name.');\n    if (!callback) throw new Error('Listener must have a callback.');\n    window.addEventListener(name, callback);\n  }\n\n  function remove ({ name, callback }) {\n    if (!name) throw new Error('Listener must have a name to detach');\n    if (!callback) throw new Error('Listener must have a callback to detach');\n    window.removeEventListener(name, callback);\n  }\n  return Object.freeze({\n    emit,\n    listen,\n    remove\n  });\n})();\n\nexport default Event;\n","module.exports = function isFunction(arg) {\n  return typeof arg === 'function';\n};\n","import stampit from '@stamp/it';\nimport Utilities from 'utilities';\nimport Collection from './Collection';\n// import Fluent from './Fluent';\n\nexport default stampit({\n  init({ name, remoteConnection }) {\n    if (!name && !remoteConnection) {\n      throw new Error('Model must have a name or path');\n    }\n    this.name = name || this.name;\n    this.remoteConnection = remoteConnection || this.remoteConnection;\n    this.chainReference = [];\n    this.whereArray = [];\n    this.orWhereArray = [];\n    this.selectArray = [];\n    this.orderByArray = [];\n    this.limitNumber = undefined;\n    this.offsetNumber = undefined;\n    this.populate = [];\n    this.chunk = null;\n    this.pullSize = null;\n  },\n  properties: {\n    operators: [\n      '=',\n      '<',\n      '>',\n      '<=',\n      '>=',\n      '<>',\n      '!=',\n      'like',\n      'regexp',\n      'startsWith',\n      'endsWith',\n      'contains'\n    ]\n  },\n  methods: {\n    /**\n     *\n     */\n    get() {\n      throw new Error('get() method not implemented');\n    },\n    /**\n     *\n     */\n    all() {\n      throw new Error('all() method not implemented');\n    },\n    /**\n     *\n     */\n    find(id) {\n      throw new Error('find() method not implemented');\n    },\n    /**\n     *\n     */\n    findOne() {\n      throw new Error('findOne() method not implemented');\n    },\n    /**\n     *\n     */\n    remove() {\n      throw new Error('remove() method not implemented');\n    },\n    /**\n     *\n     */\n    softDelete() {\n      throw new Error('softDelete() method not implemented');\n    },\n    /**\n     *\n     */\n    insert() {\n      throw new Error('insert() method not implemented');\n    },\n    /**\n     *\n     */\n    update() {\n      throw new Error('update() method not implemented');\n    },\n    /**\n     *\n     */\n    clear() {\n      throw new Error('clear() method not implemented');\n    },\n    /**\n     *\n     */\n    updateOrCreate() {\n      throw new Error('updateOrCreate() method not implemented');\n    },\n    /**\n     *\n     */\n    findAndRemove() {\n      throw new Error('findAndRemove() method not implemented');\n    },\n    owner(user) {\n      throw new Error('owner() method not implemented');\n    },\n    own(user) {\n      throw new Error('own() method not implemented');\n    },\n    /**\n     * Executes the Get() method and\n     * returns the its first result\n     *\n     * @return {Object} First result\n     */\n    async first() {\n      let data = await this.get();\n\n      return Utilities.get(() => data[0], []);\n    },\n    /**\n     *\n     * Gets the data in the current query and\n     * transforms it into a collection\n     * @returns {Collection} Fluent Collection\n     */\n    async collect() {\n      let data = await this.get();\n\n      if (!Array.isArray(data)) {\n        throw new Error('Collect method only accepts arrays of data');\n      }\n\n      return Collection(data);\n    },\n    /**\n     * Adds the given columns to the SelectArray\n     * to use as column filter for the data\n     *\n     * @param {Array|String} columns The columns to select\n     * @returns {Model} Fluent Model\n     */\n    select(...columns) {\n      columns = this.prepareInput(columns);\n      this.chainReference.push({ method: 'select', args: columns });\n      this.selectArray = this.selectArray\n        .concat(columns)\n        .filter((elem, pos, arr) => {\n          return arr.indexOf(elem) === pos;\n        });\n\n      return this;\n    },\n    /**\n     * Maps the given Data to show only those fields\n     * explicitly detailed on the Select function\n     *\n     * @param {Array} data Data from local or remote DB\n     * @returns {Array} Formatted data with the selected columns\n     */\n    jsApplySelect(data) {\n      let _data = Array.isArray(data) ? [...data] : [data];\n\n      if (this.selectArray.length > 0) {\n        _data = _data.map(element => {\n          let newElement = {};\n\n          this.selectArray.forEach(attribute => {\n            let extract = Utilities.getFromPath(element, attribute, undefined);\n\n            let value = Utilities.get(() => extract.value, undefined);\n\n            if (typeof value !== 'undefined') {\n              newElement[extract.label] = extract.value;\n            }\n          });\n          return newElement;\n        });\n      }\n\n      return _data;\n    },\n    /**\n     *  Sets the offset number for\n     *  the given query\n     *\n     * @param {int} offset The given offset\n     * @returns {Model} Fluent Model\n     */\n    offset(offset) {\n      this.chainReference.push({ method: 'offset', args: offset });\n      this.offsetNumber = offset;\n      return this;\n    },\n    /**\n     *  Alias for the offset method\n     *\n     * @param {int} offset the given offset\n     */\n    skip(offset) {\n      return this.offset(offset);\n    },\n    /**\n     *  Adds where filters to the query\n     *  whereArray\n     * @param {String|Array} args Where filters\n     * @returns {Model} Fluent Model\n     */\n    where(...args) {\n      this.chainReference.push({ method: 'where', args: args });\n      this.whereArray = [];\n      args = Array.isArray(args[0]) ? args : [args];\n      args.forEach(arg => {\n        if (arg.length !== 3) {\n          throw new Error(\n            'There where clouse is not properly formatted, expecting: [\"attribute\", \"operator\",\"value\"] but got \"' +\n            JSON.stringify(arg) +\n            '\" '\n          );\n        }\n        this.whereArray.push(arg);\n      });\n      return this;\n    },\n    /**\n     * Pushes where filters with AND condition\n     * to the whereArray\n     *\n     * @param {String|Array} args Where filters\n     * @returns {Model} Fluent Model\n     */\n    andWhere(...args) {\n      this.chainReference.push({ method: 'andWhere', args: args });\n      args = Array.isArray(args[0]) ? args : [args];\n      args.forEach(arg => {\n        if (arg.length !== 3) {\n          throw new Error(\n            'There where clouse is not properly formatted, expecting: [\"attribute\", \"operator\",\"value\"] but got \"' +\n            JSON.stringify(arg) +\n            '\" '\n          );\n        }\n        this.whereArray.push(arg);\n      });\n      return this;\n    },\n    /**\n     * Pushes where filter with OR condition\n     * to the orWhereArray\n     *\n     * @param {String|Array} args OR where filters\n     * @returns {Model} Fluent Model\n     */\n    orWhere(...args) {\n      args = Array.isArray(args[0]) ? args : [args];\n      args.forEach(arg => {\n        if (arg.length !== 3) {\n          throw new Error(\n            'There orWhere clouse is not properly formatted, expecting: [\"attribute\", \"operator\",\"value\"] but got \"' +\n            JSON.stringify(arg) +\n            '\" '\n          );\n        }\n        this.orWhereArray.push(arg);\n      });\n      return this;\n    },\n    /**\n     * Limits the number of results for the\n     * given query\n     * @param {int} limit limit number\n     * @returns {Model} Fluent Model\n     */\n    limit(limit) {\n      this.limitNumber = limit;\n      return this;\n    },\n    /**\n     * Alias for the limit method\n     *\n     * @param {*} limit limit number\n     * @returns {Model} Fluent Model\n     */\n    take(limit) {\n      return this.limit(limit);\n    },\n    /**\n     * Gets all values for a given KEY\n     * @param {String} keyPath The path to the key\n     * @returns {Array}\n     */\n    async pluck(keyPath) {\n      let data = await this.get();\n\n      data = data.map(e => {\n        let extracted = Utilities.getFromPath(e, keyPath, undefined);\n\n        if (typeof extracted.value !== 'undefined') {\n          return extracted.value;\n        }\n      });\n      return data;\n    },\n    /**\n     *\n     * @param {*} args\n     */\n    orderBy(...args) {\n      this.orderByArray = args;\n      return this;\n    },\n    /**\n     *\n     * @param {*} data\n     */\n    jsApplyOrderBy(data) {\n      let _data = [...data];\n\n      if (this.orderByArray.length === 0) {\n        return _data;\n      }\n      let field = this.orderByArray[0];\n\n      if (\n        this.selectArray.length > 0 &&\n        (field.includes('.') || field.includes('['))\n      ) {\n        throw new Error(\n          'Cannot orderBy nested attribute \"' +\n          field +\n          '\" when using Select. You must rename the attribute'\n        );\n      }\n\n      let order = this.orderByArray[1];\n      let type = this.orderByArray[2];\n\n      if (!type) {\n        type = 'string';\n      }\n\n      _data = _data.sort((a, b) => {\n        let A = Utilities.getFromPath(a, field, undefined).value;\n        let B = Utilities.getFromPath(b, field, undefined).value;\n\n        if (typeof A === 'undefined' || typeof B === 'undefined') {\n          throw new Error(\n            'Cannot order by property \"' +\n            field +\n            '\" not all values have this property'\n          );\n        }\n        // For default order and numbers\n        if (type.includes('string') || type.includes('number')) {\n          if (order === 'asc') {\n            return A > B ? 1 : A < B ? -1 : 0;\n          }\n          return A > B ? -1 : A < B ? 1 : 0;\n        } else if (type.includes('date')) {\n          if (order === 'asc') {\n            return new Date(A) - new Date(B);\n          }\n          return new Date(B) - new Date(A);\n        }\n      });\n      return _data;\n    },\n    /**\n     *\n     * @param {*} input\n     */\n    prepareInput(input) {\n      let cols = [];\n\n      input.forEach(item => {\n        let value = Array.isArray(item) ? item : item.split(',');\n\n        value = value.map(e => {\n          return e.trim();\n        });\n        cols = cols.concat(value);\n      });\n\n      cols.filter((elem, pos, arr) => {\n        return arr.indexOf(elem) === pos;\n      });\n\n      return cols;\n    },\n    async ArrayInsert(dataArray, options) {\n      let initial = 1\n      const length = dataArray.length\n      for (const element of dataArray) {\n        if (options && options.showProgress) {\n          console.log(`Inserting ${initial} of ${length}`)\n        }\n        try {\n          const a = await this.insert(element, options)\n          if (options && options.showProgress) {\n            console.log(`Element ${initial} inserted`)\n          }\n          initial++;\n        } catch (e) {\n          console.log(`ERROR - Element ${initial} - ${JSON.stringify(element)} could not be inserted`)\n          console.log(e)\n          initial++;\n        }\n\n      }\n    }\n  }\n});\n","module.exports = __WEBPACK_EXTERNAL_MODULE__16__;","import Utilities from 'utilities';\nimport Model from '../Fluent/Model';\nimport Configuration from './Configuration';\nimport moment from 'moment';\n\nexport default Model.compose({\n  properties: {\n    name: 'Translation',\n    remoteConnection: {\n      path: 'translations',\n      token: undefined\n    }\n  },\n  methods: {\n    async getFormTranslations () {\n      let i18n = {};\n\n      let localTranslations = await this.local().first();\n\n      localTranslations = Utilities.get(() => localTranslations.data, {});\n\n      Object.keys(localTranslations).forEach(languageCode => {\n        if (languageCode !== 'type') {\n          i18n[languageCode] = localTranslations[languageCode];\n        }\n      });\n      return i18n;\n    },\n    /**\n     *\n     */\n    async supportedLanguages () {\n      let translations = await this.local().get();\n\n      if (translations.length === 0) {\n        return [];\n      }\n\n      let isoLanguages = this.getIsoLanguages();\n      let languages = [];\n\n      translations = Utilities.get(() => translations[0].data, []);\n\n      Object.keys(translations).forEach(languageCode => {\n        let iso = isoLanguages.find(l => {\n          return l.code === languageCode;\n        });\n\n        if (iso) {\n          languages.push(iso);\n        }\n      });\n\n      languages = languages.sort((a, b) => {\n        a = a.label;\n        b = b.label;\n        return a > b ? 1 : a < b ? -1 : 0;\n      });\n      return languages;\n    },\n    /**\n     *\n     */\n    getIsoLanguages () {\n      return require('resources/isoLanguages.json');\n    },\n    /**\n     *\n     * @param {*} localTranslations\n     */\n    getLocalizationDate (localTranslations) {\n      return Utilities.get(() => localTranslations[0].fastUpdated, 0);\n    },\n    /**\n     * [authenticate description]\n     * @param  {[type]} username [description]\n     * @param  {[type]} password [description]\n     * @return {[type]}          [description]\n     */\n    async set ({ appConf, forceOnline }) {\n      if (appConf.offlineStart === 'true' && !forceOnline) {\n        return this.setOffline({ appConf });\n      }\n      return this.setOnline({ appConf });\n    },\n    /**\n     *\n     * @param {*} param0\n     */\n    async setOffline ({ appConf }) {\n      let localTranslations = await this.local().get();\n      let localDate = this.getLocalizationDate(localTranslations);\n      let config = await Configuration.local().first();\n      let offlineTranslations = appConf.offlineFiles.Translations;\n\n      // If the offline Json is older than the local data\n      if (config.fastUpdated < localDate) {\n        return localTranslations[0].data;\n      }\n      let trans = await this.process(offlineTranslations);\n\n      return this.storeTranslations(trans);\n    },\n    /**\n     *\n     * @param {*} param0\n     */\n    async setOnline ({ appConf }) {\n      let localTranslations = await this.local().get();\n      let appTranslations = await this.remote()\n        .limit(50000)\n        .get();\n\n      if (appTranslations) {\n        appTranslations = await this.process(appTranslations);\n        appTranslations = await this.storeTranslations(appTranslations);\n        return appTranslations;\n      }\n\n      if (localTranslations.length > 0 && localTranslations[0].data) {\n        return localTranslations[0].data;\n      }\n    },\n    /**\n     *\n     * @param {*} translationsArray\n     */\n    async storeTranslations (translationsArray) {\n      // Remove all previous translations\n      this.local().clear({ sure: true });\n\n      // Insert the new ones\n      let appTranslations = await this.local().insert({\n        data: translationsArray,\n        fastUpdated: moment().unix()\n      });\n\n      return appTranslations.data;\n    },\n    /**\n     * [setTranslations description]\n     * @param {[type]} appTranslations [description]\n     */\n    async process (translations) {\n      let lenguages = this.getIsoLanguages();\n      let result = {};\n\n      result.label = {};\n      // Foreach of the locale lenguages, set the translations\n      lenguages.forEach(language => {\n        translations.forEach(translation => {\n          if (translation.data && translation.data[language.code]) {\n            if (!result[language.code]) {\n              result[language.code] = {};\n            }\n            result[language.code][translation.data.label] =\n              translation.data[language.code];\n          }\n\n          if (translation.data && translation.data.label) {\n            result['label'][translation.data.label] = translation.data.label;\n          }\n        });\n      });\n\n      return result;\n    },\n\n    async updateLabel (label, translation) {\n      let trans = await this.remote()\n        .where('data.label', '=', label)\n        .first();\n\n      let id = trans._id;\n\n      const newTranslations = { ...trans.data, ...translation };\n\n      let result = await this.remote().update({\n        _id: id,\n        data: newTranslations\n      });\n\n      return result;\n    },\n\n    async createTranslation (label) {\n      return this.remote().insert({\n        data: {\n          en: label,\n          label: label\n        }\n      });\n    }\n  }\n})();\n","import Model from '../Fluent/Model';\nimport Utilities from 'utilities';\nimport Configuration from './Configuration';\nimport to from 'await-to-js';\nimport moment from 'moment';\n\nexport default Model.compose({\n  properties: {\n    name: 'Pages',\n    remoteConnection: {\n      path: 'fast-app-pages',\n      token: undefined\n    }\n  },\n  methods: {\n    /**\n     * Decides whether to set submissions\n     * Online or Offline\n     * @param {Object} config.appConfig The application Config\n     * @param {Boolean} config.forceOnline If we need online\n     */\n    async set ({ appConf, forceOnline }) {\n      if (String(appConf.offlineStart) === 'true' && !forceOnline) {\n        return this.setOffline({ appConf });\n      }\n      return this.setOnline();\n    },\n    /**\n     * Sets all pages from the offline\n     * JSON files\n     * @param {Object} appConfig Application config\n     * @return {Object} App pages\n     */\n    async setOffline ({ appConf }) {\n      let localPages = await this.local().first();\n      let localDate = this.getUpdatedDate(localPages);\n      let config = await Configuration.local().first();\n      let offlinePages = Utilities.get(() => appConf.offlineFiles.Pages[0].data);\n\n      // If the configuration in the JSON file is\n      // older than the one in the local DB\n      if (config.fastUpdated < localDate) {\n        return Utilities.get(() => localPages.data);\n      }\n\n      if (localPages) {\n        await this.local().clear({ sure: true });\n      }\n      return this.local().insert({ ...offlinePages, fastUpdated: moment().unix() });\n    },\n    /**\n     * Sets all pages from the online\n     * JSON files\n     * @return {Object} App pages\n     */\n    async setOnline () {\n      let localPages = await this.local().first();\n      let [error, pages] = await to(this.remote().first());\n\n      if (error) {\n        console.log(error);\n        throw new Error('Could not get remote Pages.');\n      }\n\n      pages = Utilities.get(() => pages.data);\n\n      // If we pulled the remote pages and\n      // The submission is not empty\n      if (pages && !Utilities.isEmpty(pages)) {\n        if (localPages) {\n          await this.local().clear({ sure: true });\n        }\n        return this.local().insert({ ...pages, fastUpdated: moment().unix() });\n      }\n\n      return localPages;\n    },\n    /**\n     * Takes the local pages and gets the\n     * updated at date\n     *\n     * @param {Array} pages Array of local pages\n     * @returns {number} date las updated\n     */\n    getUpdatedDate (pages) {\n      return Utilities.get(() => pages.fastUpdated, 0);\n    }\n  }\n})();\n","import axios from 'axios';\nimport Configuration from './Configuration';\nimport Utilities from 'utilities';\nimport Model from '../Fluent/Model';\nimport Connection from '../Wrappers/Connection';\nimport to from 'await-to-js';\nimport Form from '../models/Form';\n\nexport default Model.compose({\n  properties: {\n    name: 'User',\n    remoteConnection: {\n      path: 'user',\n      token: undefined\n    }\n  },\n  methods: {\n    async storeLocally (user) {\n      let localUser = await this.local()\n        .where('data.email', '=', user.data.email)\n        .first();\n\n      user = Utilities.deleteNulls(user);\n      let isUserAlreadyStored = !!localUser && !Utilities.isEmpty(localUser);\n\n      //  check if user is already present in local storage\n      if (isUserAlreadyStored) {\n        throw new Error('The user email is already taken');\n      }\n\n      if (Connection.isOnline()) {\n        let [error, onlineUser] = await to(\n          Form.getModel({ path: 'userregister' })\n            .remote()\n            .insert(user)\n        );\n\n        if (error) {\n          throw new Error('The user email is already taken');\n        }\n        return this.local().insert(onlineUser);\n      }\n\n      return this.local().insert(user);\n    },\n    async updateUser (user) {\n      let localUser = await this.local()\n        .where('data.email', '=', user.data.email)\n        .pluck('_id');\n\n      localUser.forEach(async (_id) => {\n        await this.local().remove(_id);\n      });\n\n      user = Utilities.deleteNulls(user);\n\n      return this.local().insert(user);\n    },\n    async login ({ credentials, role }) {\n      let url = (await Configuration.local().first()).APP_URL;\n\n      if (role === 'admin') {\n        url = url + '/admin/login';\n      } else {\n        url = url + '/user/login';\n      }\n      return axios.post(url, {\n        data: credentials\n      });\n    }\n  }\n})();\n","import Configuration from '../../models/Configuration';\nimport md5 from 'md5';\nimport User from 'models/User';\nimport Connection from 'Wrappers/Connection';\nimport Role from 'models/Role';\nimport Promise from 'bluebird';\nimport Utilities from 'utilities';\n\nlet Auth = (() => {\n  /**\n   *\n   *\n   * @param {any} credentials\n   * @returns\n   */\n  const localAuthenticate = async function (credentials) {\n    const { username, password } = credentials;\n    let config = await Configuration.local().first();\n\n    // Hash password\n    const hashedPassword = md5(password, config.MD5_KEY);\n\n    // Get the user\n    let dbUser = await User.local()\n      .where('data.username', '=', username)\n      .get();\n    let userFound = dbUser && dbUser[0] ? dbUser[0] : undefined;\n\n    if (!userFound) {\n      throw new Error();\n    }\n    // Compare hashed passwords\n    const isValidUser = userFound.data.hashedPassword === hashedPassword;\n\n    if (!isValidUser) {\n      throw new Error();\n    }\n    // If is valid, return the user\n    return userFound;\n  };\n  /**\n   *\n   *\n   * @param {any} credentials\n   * @param {any} baseUrl\n   * @param {any} role\n   * @returns\n   */\n  const remoteAuthenticate = async (credentials, baseUrl, role) => {\n    let response = await User.login({ credentials: credentials, role: role });\n    let user = response.data;\n\n    await User.updateUser(user);\n    return response;\n  };\n\n  /**\n   *\n   * Authenticates the User with the given credentials\n   * @param {any} credentials\n   * @param {any} baseUrl\n   * @param {any} role\n   * @returns\n   */\n  const authenticate = async function (credentials, baseUrl, role) {\n    let isOnline = await Connection.isOnline();\n\n    if (isOnline) {\n      return remoteAuthenticate(credentials, baseUrl, role);\n    }\n    return localAuthenticate(credentials, baseUrl);\n  };\n  /**\n   *\n   *\n   * @param {any} credentials\n   * @param {any} baseUrl\n   * @param {any} role\n   * @returns\n   */\n\n  const attempt = function (credentials, baseUrl, role) {\n    role = role || 'user';\n\n    return new Promise((resolve, reject) => {\n      authenticate(credentials, baseUrl, role)\n        // If credentials are OK\n        .then(async (response) => {\n          let headers = response.headers || {};\n          let user = response.data;\n          /* eslint-disable*/\n\n          user.x_jwt_token = headers['x-jwt-token'];\n          /* eslint-enable*/\n\n          // Save auth user\n          localStorage.setItem('authUser', JSON.stringify(user));\n          localStorage.setItem('formioToken', headers['x-jwt-token']);\n          // user.isAdmin = true\n          let roles = await Role.local().first();\n\n          user.rolesNames = [];\n          Object.keys(roles).forEach((key) => {\n            if (key !== '$loki' && key !== '_id' && key !== 'meta') {\n              if (user.roles && user.roles.indexOf(roles[key]._id) !== -1) {\n                user.rolesNames.push(roles[key]);\n              }\n            }\n          });\n\n          localStorage.setItem('authUser', JSON.stringify(user));\n\n          resolve(user);\n        })\n        // If there are errors\n        .catch((error) => {\n          console.log('There was an error over here!');\n          reject(error);\n        });\n    });\n  };\n  /**\n   *\n   *\n   * @returns\n   */\n\n  const user = function () {\n    try {\n      let user = JSON.parse(localStorage.getItem('authUser'));\n\n      return user === null ? false : user;\n    } catch (e) {\n      localStorage.removeItem('authUser');\n      return false;\n    }\n  };\n  /**\n   *\n   *\n   * @returns\n   */\n\n  const email = function () {\n    let email = '';\n\n    if (Auth.user() && Auth.user().data && Auth.user().data.email) {\n      email = Auth.user().data.email;\n    } else if (Auth.user() && Auth.user().email) {\n      email = Auth.user().email;\n    }\n    return email;\n  };\n  /**\n   *\n   *\n   * @param {any} roleName\n   * @returns\n   */\n\n  const hasRole = function (roleName) {\n    let user = JSON.parse(localStorage.getItem('authUser'));\n\n    user = user === null ? false : user;\n\n    let result = user.rolesNames.find((r) => {\n      return r.title === roleName;\n    });\n\n    return typeof result !== 'undefined';\n  };\n  /**\n   *\n   *\n   * @param {any} roles\n   * @returns\n   */\n\n  const hasRoleIn = function (roles) {\n    if (!roles || Utilities.isEmpty(roles)) {\n      return true;\n    }\n    return roles.some((role) => {\n      return hasRole(role) || role === 'Authenticated';\n    });\n  };\n  /**\n   *\n   *\n   * @param {any} rolesIds\n   * @returns\n   */\n\n  const hasRoleIdIn = async function (rolesIds) {\n    if (!rolesIds || Utilities.isEmpty(rolesIds)) {\n      return true;\n    }\n    let appRoles = await Role.local().first();\n\n    let roles = rolesIds.reduce((reducer, roleId) => {\n      Object.keys(appRoles).forEach(function (role) {\n        if (appRoles[role] && appRoles[role]._id && appRoles[role]._id === roleId) {\n          reducer.push(appRoles[role].title);\n        }\n      });\n      return reducer;\n    }, []);\n\n    return roles.some((role) => {\n      return hasRole(role) || role === 'Authenticated';\n    });\n  };\n  /**\n   * Checks if the current user is\n   * Authenticated\n   * @return {boolean}\n   */\n\n  const check = function () {\n    let user = JSON.parse(localStorage.getItem('authUser'));\n\n    return !!user && !!user.x_jwt_token;\n  };\n  /**\n   * Logs out autheticated user\n   *\n   */\n\n  const logOut = async function () {\n    await localStorage.removeItem('authUser');\n    await localStorage.removeItem('formioToken');\n    await localStorage.removeItem('formioUser');\n  };\n\n  return Object.freeze({\n    user,\n    email,\n    hasRoleIn,\n    hasRoleIdIn,\n    hasRole,\n    check,\n    logOut,\n    attempt\n  });\n})();\n\nexport default Auth;\n","import Model from '../Fluent/Model';\nimport Utilities from 'utilities';\nimport Connection from 'Wrappers/Connection';\nimport to from 'await-to-js';\nimport moment from 'moment';\n\nexport default Model.compose({\n  properties: {\n    name: 'Role',\n    remoteConnection: {\n      path: 'access',\n      token: undefined,\n      pullForm: true\n    }\n  },\n  methods: {\n    async set ({ url, appConf, forceOnline }) {\n      if (appConf.offlineStart === 'true' && !forceOnline) {\n        return this.setOffline({ appConf });\n      }\n      return this.setOnline({ url });\n    },\n    getRolesDate (localRoles) {\n      return Utilities.get(() => localRoles.fastUpdated, 0);\n    },\n    async setOnline () {\n      let error;\n      let remoteRoles;\n\n      let localRoles = await this.local().first();\n\n      let isOnline = await Connection.isOnline();\n\n      if (isOnline) {\n        [error, remoteRoles] = await to(this.remote().first());\n\n        if (error) {\n          throw new Error(error);\n        }\n      }\n\n      remoteRoles = Utilities.get(() => remoteRoles.roles);\n\n      if (remoteRoles) {\n        if (localRoles) {\n          await this.local().clear();\n        }\n        remoteRoles.fastUpdated = moment().unix();\n\n        let insertedRoles = await this.local().insert(remoteRoles);\n\n        return insertedRoles;\n      }\n      return localRoles;\n    },\n    async setOffline ({ appConf }) {\n      let localRoles = await this.local().first();\n\n      let rolesDate = this.getRolesDate(localRoles);\n      let offlineRolesDate = appConf.offlineFiles.lastUpdated.date;\n\n      if (offlineRolesDate > rolesDate || !localRoles) {\n        if (localRoles) {\n          await this.local().clear();\n        }\n        let insertedRoles = await this.local().insert(appConf.offlineFiles.Roles);\n\n        return insertedRoles;\n      }\n\n      return localRoles;\n    }\n  }\n})();\n","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\r\n} catch (e) {\r\n\t// This works if the window reference is available\r\n\tif (typeof window === \"object\") g = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n","module.exports = Array.isArray;\n","var isFunction = require('./function');\n\nmodule.exports = function isStamp(arg) {\n  return isFunction(arg) && isFunction(arg.compose);\n};\n","module.exports = Object.assign;\n","var isPlainObject = require('@stamp/is/plain-object');\nvar isObject = require('@stamp/is/object');\nvar isArray = require('@stamp/is/array');\n\n/**\n * The 'src' argument plays the command role.\n * The returned values is always of the same type as the 'src'.\n * @param dst The object to merge into\n * @param src The object to merge from\n * @returns {*}\n */\nfunction mergeOne(dst, src) {\n  if (src === undefined) return dst;\n\n  // According to specification arrays must be concatenated.\n  // Also, the '.concat' creates a new array instance. Overrides the 'dst'.\n  if (isArray(src)) return (isArray(dst) ? dst : []).concat(src);\n\n  // Now deal with non plain 'src' object. 'src' overrides 'dst'\n  // Note that functions are also assigned! We do not deep merge functions.\n  if (!isPlainObject(src)) return src;\n\n  // See if 'dst' is allowed to be mutated.\n  // If not - it's overridden with a new plain object.\n  var returnValue = isObject(dst) ? dst : {};\n\n  var keys = Object.keys(src);\n  for (var i = 0; i < keys.length; i += 1) {\n    var key = keys[i];\n\n    var srcValue = src[key];\n    // Do not merge properties with the 'undefined' value.\n    if (srcValue !== undefined) {\n      var dstValue = returnValue[key];\n      // Recursive calls to mergeOne() must allow only plain objects or arrays in dst\n      var newDst = isPlainObject(dstValue) || isArray(srcValue) ? dstValue : {};\n\n      // deep merge each property. Recursion!\n      returnValue[key] = mergeOne(newDst, srcValue);\n    }\n  }\n\n  return returnValue;\n}\n\nmodule.exports = function (dst) {\n  for (var i = 1; i < arguments.length; i++) {\n    dst = mergeOne(dst, arguments[i]);\n  }\n  return dst;\n};\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","import User from 'models/User';\nimport Auth from 'repositories/Auth/Auth';\nimport Submission from 'models/Submission';\nimport OfflineData from 'repositories/Submission/OfflineData';\nimport Scheduler from 'repositories/Database/Scheduler';\n\nlet Sync = class {\n  /**\n   *\n   * @param {*} vm\n   */\n  static async now (vm) {\n    await Sync.syncUsers();\n\n    if (Auth.check()) {\n      await Sync.syncSubmission(vm);\n    }\n  }\n  /**\n   *\n   * @param {*} db\n   * @param {*} vm\n   */\n  static async syncSubmission () {\n    let usersAreSync = await Sync.areUsersSynced();\n\n    if (!usersAreSync) {\n      return;\n    }\n\n    let unsyncSubmissions = await Submission('*').getUnsync();\n\n    let isSyncing = await Scheduler.isSyncing();\n\n    if (unsyncSubmissions.length > 0 && !isSyncing) {\n      OfflineData.send(unsyncSubmissions);\n    }\n  }\n  /**\n   *\n   */\n  static async getUsersToSync () {\n    return await User.local()\n      .where('sync', '=', false)\n      .andWhere('queuedForSync', '=', false)\n      .andWhere('syncError', '=', false)\n      .get();\n  }\n  /**\n   *\n   */\n  static async areUsersSynced () {\n    let users = await Sync.getUsersToSync();\n\n    return !!users && Array.isArray(users) && users.length === 0;\n  }\n  /**\n   *\n   * @param {*} param\n   */\n  static async syncUsers () {\n    let users = await Sync.getUsersToSync();\n\n    let isSyncing = await Scheduler.isSyncing();\n\n    if (Array.isArray(users) && users.length > 0 && !isSyncing) {\n      OfflineData.syncUsers(users);\n    }\n  }\n};\n\nexport default Sync;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__29__;","var FastIsSyncing = false;\nlet Scheduler = class {\n  static async isSyncing () {\n    return FastIsSyncing;\n  }\n  static async startSync () {\n    FastIsSyncing = true;\n    return this.isSyncing();\n  }\n\n  static async stopSync () {\n    FastIsSyncing = false;\n    return this.isSyncing();\n  }\n};\n\nexport default Scheduler;\n","import FAST from \"./start\";\nimport Auth from \"./repositories/Auth/Auth\";\nimport Connection from \"./Wrappers/Connection\";\nimport Event from \"./Wrappers/Event\";\nimport Moment from \"./repositories/Date/moment\";\nimport Form from \"models/Form\";\nimport Pages from \"models/Pages\";\nimport Submission from \"models/Submission\";\nimport ParallelSurvey from \"repositories/Submission/ParallelSurvey\";\nimport Configuration from \"./models/Configuration\";\nimport Translation from \"models/Translation\";\nimport Import from \"repositories/Submission/Import\";\nimport User from \"models/User\";\nimport OfflinePlugin from \"offlinePlugin/offlinePlugin\";\nimport Role from \"models/Role\";\nimport Hash from \"repositories/Submission/Hash\";\nimport Sync from \"repositories/Database/Sync\";\nimport Utilities from \"utilities\";\nimport Fluent from \"./Fluent/Fluent\";\nimport Model from \"./Fluent/Model\";\nimport loki from './Fluent/Connectors/local/Loki/FluentConnector';\nimport formio from './Fluent/Connectors/remote/Formio/FluentConnector';\nimport formioLoki from './Fluent/Connectors/merged/Formio-Loki/FluentConnector';\n\nexport {\n  loki,\n  formio,\n  formioLoki,\n  Model,\n  Fluent,\n  Moment,\n  Event,\n  FAST,\n  Connection,\n  Auth,\n  Form,\n  Pages,\n  Submission,\n  ParallelSurvey,\n  Configuration,\n  Translation,\n  Import,\n  User,\n  OfflinePlugin,\n  Role,\n  Hash,\n  Sync,\n  Utilities\n};\n","import Configuration from './models/Configuration';\nimport Form from './models/Form';\nimport Translation from './models/Translation';\nimport Pages from './models/Pages';\nimport SyncInterval from './repositories/Database/SyncInterval';\nimport Roles from './models/Role';\nimport Fluent from './Fluent/Fluent';\n/* eslint-disable no-unused-vars */\nlet FAST = (() => {\n  /**\n   * Loads all configuration for the FAST app\n   * This is the main start function and mandatory\n   * to execute if you will use it!\n   *\n   * @param {*} conf\n   * @param {*} conf.appConf Configuration of the App\n   */\n  async function start ({ appConf, forceOnline }) {\n    if (!forceOnline) {\n      Fluent.setConfig({\n        FLUENT_FORMIO_BASEURL: appConf.fluentFormioBaseUrl,\n        FAST_CONFIG_ID: appConf.appConfigId,\n        FAST_CONFIG_URL: appConf.appConfigUrl,\n        OFFLINE_START: appConf.offlineStart\n      });\n      SyncInterval.set(3000);\n    }\n\n    let config = await Configuration.set({ appConf, forceOnline });\n\n    await Roles.set({ appConf, forceOnline });\n\n    await Pages.set({ appConf, forceOnline });\n\n    await Form.set({ appConf, forceOnline });\n\n    let appTranslations = await Translation.set({ appConf, forceOnline });\n\n    /*\n    let currentConf = await Configuration.getLocal();\n\n    let date = _get(currentConf, 'meta.formsLastUpdated', 1);\n    let isOnline = await Connection.isOnline();\n\n    if (isOnline) {\n      try {\n        let data = await Formio.request(\n          config.APP_URL + '/form?modified__gt=' + new Date(date * 1000).toISOString() + '&select=path',\n          'GET'\n        );\n\n        Configuration.setLastUpdated({ element: 'Forms', data });\n        let shouldUpdate = data.some((form) => {\n          return form.path === 'userregister';\n        });\n\n        if (shouldUpdate) {\n          Form.update({\n            filter: [{ element: 'path', query: '=', value: 'userregister' }]\n          });\n        }\n      } catch (error) {\n        console.log('error', error);\n      }\n    }\n    */\n\n    return {\n      config: config,\n      translations: appTranslations,\n      defaultLanguage: localStorage.getItem('defaultLenguage') || 'en'\n    };\n  }\n  /**\n   *\n   * Triggers a full Online update of all Configuration,\n   * Forms, Pages and Roles of the application.\n   *\n   * @param {Object} conf\n   * @param {Object} conf.appConf Configuration of the App\n   * @returns\n   */\n  async function sync ({ appConf }) {\n    return start({ appConf, forceOnline: true });\n  }\n\n  return Object.freeze({\n    start,\n    sync\n  });\n})();\n\nexport default FAST;\n","// More proper implementation would be\n// isDescriptor(obj) || isStamp(obj)\n// but there is no sense since stamp is function and function is object.\nmodule.exports = require('./object');\n","module.exports = function isPlainObject(value) {\n  return Boolean(value) && typeof value === 'object' &&\n    Object.getPrototypeOf(value) === Object.prototype;\n};\n","var compose = require('@stamp/compose');\n\nfunction createShortcut(propName) {\n  return function (arg) {\n    'use strict';\n    var param = {};\n    param[propName] = arg;\n    return this && this.compose ? this.compose(param) : compose(param);\n  };\n}\n\nvar properties = createShortcut('properties');\nvar staticProperties = createShortcut('staticProperties');\nvar configuration = createShortcut('configuration');\nvar deepProperties = createShortcut('deepProperties');\nvar staticDeepProperties = createShortcut('staticDeepProperties');\nvar deepConfiguration = createShortcut('deepConfiguration');\nvar initializers = createShortcut('initializers');\n\nmodule.exports = compose({\n  staticProperties: {\n    methods: createShortcut('methods'),\n\n    props: properties,\n    properties: properties,\n\n    statics: staticProperties,\n    staticProperties: staticProperties,\n\n    conf: configuration,\n    configuration: configuration,\n\n    deepProps: deepProperties,\n    deepProperties: deepProperties,\n\n    deepStatics: staticDeepProperties,\n    staticDeepProperties: staticDeepProperties,\n\n    deepConf: deepConfiguration,\n    deepConfiguration: deepConfiguration,\n\n    init: initializers,\n    initializers: initializers,\n\n    composers: createShortcut('composers'),\n\n    propertyDescriptors: createShortcut('propertyDescriptors'),\n\n    staticPropertyDescriptors: createShortcut('staticPropertyDescriptors')\n  }\n});\n","module.exports = function isString(arg) {\n  return typeof arg === 'string';\n};\n","import Database from './Database';\nimport Utilities from 'utilities';\nimport uuidv4 from 'uuid/v4';\nimport Interface from '../../../Interface';\nimport stampit from '@stamp/it';\n\nexport default stampit(Interface, {\n  methods: {\n    /**\n     *\n     */\n    async get() {\n      let filterObject = this.prepareFilter();\n\n      let data = await (await this.getModel())\n        .chain()\n        .find(filterObject)\n        .offset(this.offsetNumber)\n        .limit(this.limitNumber)\n        .data();\n\n      data = this.jsApplySelect(data);\n      data = this.jsApplyOrderBy(data);\n\n      return data;\n    },\n    /**\n     *\n     */\n    prepareFilter() {\n      let andObject = { $and: [] };\n      let orObject = { $or: [] };\n      let globalFilter = {};\n\n      // All first Level AND conditions\n      if (this.whereArray.length > 0) {\n        this.whereArray.forEach(c => {\n          let conditionToObject = {};\n\n          if (c[0].includes('[')) {\n            throw new Error(\n              'Error in: \"' +\n              c[0] +\n              '\" \"Where\" close does not work with Array elements'\n            );\n          }\n\n          conditionToObject[c[0]] = {};\n          let lokiOperator = this.getLokiOperator(c[1]);\n\n          conditionToObject[c[0]][lokiOperator] = c[2];\n          if (lokiOperator.includes('$regex|')) {\n            delete conditionToObject[c[0]][lokiOperator];\n            conditionToObject[c[0]]['$regex'] = lokiOperator\n              .replace('$regex|', '')\n              .replace('{{$var}}', c[2]);\n          }\n\n          andObject['$and'].push(conditionToObject);\n        });\n        globalFilter = andObject;\n      }\n      // All second level OR conditions\n      if (this.orWhereArray.length > 0) {\n        this.orWhereArray.forEach(c => {\n          let conditionToObject = {};\n\n          conditionToObject[c[0]] = {};\n          let lokiOperator = this.getLokiOperator(c[1]);\n\n          conditionToObject[c[0]][lokiOperator] = c[2];\n          if (lokiOperator.includes('$regex|')) {\n            delete conditionToObject[c[0]][lokiOperator];\n            conditionToObject[c[0]]['$regex'] = lokiOperator\n              .replace('$regex|', '')\n              .replace('{{$var}}', c[2]);\n          }\n\n          orObject['$or'].push(conditionToObject);\n        });\n\n        globalFilter = { $or: [andObject, orObject] };\n      }\n\n      // TODO we should include global level and() or()\n      // operators to give room for more complex queries\n      return globalFilter;\n    },\n    /**\n     *\n     * @param {*} operator\n     */\n    getLokiOperator(operator) {\n      if (!this.operators.includes(operator)) {\n        throw new Error('The \"' + operator + '\" operator is not supported');\n      }\n\n      let lokiOperators = {\n        '=': '$eq',\n        '<': '$lt',\n        '>': '$gt',\n        '<=': '$lte',\n        '>=': '$gte',\n        '<>': '$ne',\n        '!=': '$ne',\n        like: '$aeq',\n        regexp: '$regex',\n        startsWith: '$regex|^{{$var}}',\n        endsWith: '$regex|{{$var}}$',\n        contains: '$regex|{{$var}}'\n      };\n      let converted = Utilities.get(() => lokiOperators[operator], undefined);\n\n      if (!converted) {\n        throw new Error(\n          'The operator \"' + operator + '\" is not supported in Loki '\n        );\n      }\n      return converted;\n    },\n    /**\n     *\n     * @param {Object} db The name of the model to fetch\n     * @param {String} db.model The name of the model to fetch\n     * @returns {Promise} The DB model\n     */\n    async getModel() {\n      const DB = await Database.get();\n\n      return DB.getCollection(this.name);\n    },\n    /**\n     *\n     */\n    async all() {\n      const model = await this.getModel();\n\n      return model.find();\n    },\n    /**\n     * [remove description]\n     * @param  {[type]} document [description]\n     * @return {[type]}          [description]\n     */\n    async remove(_id) {\n      if (!_id) {\n        throw new Error(\n          'No id assign to remove().You must give and _id to delete'\n        );\n      }\n\n      if (!_id.includes('_local')) {\n        throw new Error('You can`t delete non local submissions');\n      }\n      const model = await this.getModel();\n\n      return model.findAndRemove({ _id: _id });\n    },\n    /**\n     * [insert description]\n     * @param  {Object, Array} element [description]\n     * @return {[type]}         [description]\n     */\n    async insert(data, options) {\n      if (Array.isArray(data)) {\n        return this.ArrayInsert(data, options)\n      }\n      data = Utilities.cloneDeep(data);\n\n      const model = await this.getModel();\n\n      data._id = uuidv4() + '_local';\n\n      return model.insert(data)\n    },\n    /**\n     * [update description]\n     * @param  {[type]} document [description]\n     * @return {[type]}          [description]\n     */\n    async update(document) {\n      if (!document._id) {\n        throw new Error(\n          'Loki connector error. Cannot update a Model without _id key'\n        );\n      }\n      const model = await this.getModel();\n\n      document.modified = Math.round(+new Date() / 1000);\n      let local = await model.findOne({ _id: document._id });\n      let mod = { ...local, ...document };\n\n      return model.update(mod);\n    },\n    /**\n     *\n     * @param {*} param0\n     */\n    async updateOrCreate({ document }) {\n      const model = await this.getModel();\n      let role = await model.findOne(document);\n\n      if (!role) {\n        model.insert(document);\n      }\n    },\n    /**\n     *\n     * @param {*} param0\n     */\n    async findAndRemove({ filter }) {\n      const model = await this.getModel();\n\n      return model.findAndRemove(filter);\n    },\n    /**\n     *\n     * @param {*} param0\n     */\n    async clear() {\n      const model = await this.getModel();\n\n      return model.clear({ removeIndices: true });\n    },\n    /**\n     *\n     * @param {*} user\n     */\n    own(user) {\n      // TODO user should be auth user\n      if (!user) {\n        throw new Error(\n          'own() method requires a specific user to filter the submissions'\n        );\n      }\n      this.andWhere('user_email', '=', user);\n    },\n    /**\n     *\n     * @param {*} user\n     */\n    owner(user) {\n      if (!user) {\n        throw new Error(\n          'owner() method requires a specific user to filter the submissions'\n        );\n      }\n      this.andWhere('user_email', '=', user);\n    }\n  }\n});\n","import Promise from 'bluebird';\nimport Loki from 'lokijs';\nimport LokiIndexedAdapter from 'lokijs/src/loki-indexed-adapter';\nvar DB = null;\nlet Database = (() => {\n  /*\n  |--------------------------------------------------------------------------\n  | LockiDB Config\n  |--------------------------------------------------------------------------\n  | Configuration for the Local DB creation.\n  |\n  */\n  const getModels = () => {\n    const models = (typeof window !== 'undefined') && window && window._FLUENT_ && window._FLUENT_.models ?\n      window._FLUENT_.models :\n      global && global._FLUENT_ && global._FLUENT_.models ?\n        global._FLUENT_.models :\n        undefined;\n\n    return models\n  }\n  /**\n   *\n   *\n   * @param {Object} configuration- The configuration for the DB\n   * @param {string} configuration.env - Environment i.e 'production'\n   * @returns\n   */\n  const _create = ({ env }) => {\n    return new Promise((resolve) => {\n      let idbAdapter;\n      let pa;\n      let db;\n\n      let dbConfig = {\n        autosave: true,\n        autosaveInterval: 1000,\n        autoload: true,\n        /* eslint-disable no-use-before-define */\n        autoloadCallback: databaseInitialize,\n        throttledSaves: false\n      };\n\n      try {\n        idbAdapter = new LokiIndexedAdapter('FAST');\n        pa = new Loki.LokiPartitioningAdapter(idbAdapter, {\n          paging: true\n        });\n\n        db = new Loki('FAST', { ...dbConfig, adapter: pa });\n      } catch (error) {\n        db = new Loki('FAST', dbConfig);\n      }\n\n      function databaseInitialize() {\n        const baseModels = getModels()\n        if (!baseModels) {\n          throw new Error(\n            'Cannot Start FLUENT, no models registered or you dont have access to the \"window\" or \"global\" variable'\n          );\n        }\n\n        Object.keys(baseModels).forEach((model) => {\n          const dbModel = db.getCollection(model);\n\n          if (!dbModel) {\n            db.addCollection(model);\n          }\n        });\n        resolve(db);\n      }\n    });\n  };\n  /**\n   * Checks if the DB is created or if new\n   * Models need to be added to the DB\n   * @returns {Boolean}\n   */\n  const shouldRecreate = () => {\n    if (!DB) {\n      return true\n    }\n    const windowModels = getModels()\n    const dbModels = DB.collections.reduce((acc, collection) => {\n      acc.push(collection.name)\n      return acc\n    }, []);\n    const should = !Object.keys(windowModels).every((element) => {\n      return dbModels.includes(element)\n    })\n    return should\n  }\n  /**\n   *\n   *\n   * @export\n   * @param {Object} configuration- The configuration for the DB\n   * @param {string} configuration.env - Environment i.e 'production'\n   * @returns\n   */\n  const get = async function ({ env = 'prod' } = {}) {\n    if (shouldRecreate()) {\n      DB = await _create({ env });\n    }\n    return DB\n  };\n\n  return Object.freeze({\n    get\n  });\n})();\n\nexport default Database;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__40__;","/*\n  Loki IndexedDb Adapter (need to include this script to use it)\n\n  Console Usage can be used for management/diagnostic, here are a few examples :\n  adapter.getDatabaseList(); // with no callback passed, this method will log results to console\n  adapter.saveDatabase('UserDatabase', JSON.stringify(myDb));\n  adapter.loadDatabase('UserDatabase'); // will log the serialized db to console\n  adapter.deleteDatabase('UserDatabase');\n*/\n\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD\n        define([], factory);\n    } else if (typeof exports === 'object') {\n        // Node, CommonJS-like\n        module.exports = factory();\n    } else {\n        // Browser globals (root is window)\n        root.LokiIndexedAdapter = factory();\n    }\n}(this, function () {\n  return (function() {\n\n    /**\n     * Loki persistence adapter class for indexedDb.\n     *     This class fulfills abstract adapter interface which can be applied to other storage methods. \n     *     Utilizes the included LokiCatalog app/key/value database for actual database persistence.\n     *     Indexeddb is highly async, but this adapter has been made 'console-friendly' as well.\n     *     Anywhere a callback is omitted, it should return results (if applicable) to console.\n     *     IndexedDb storage is provided per-domain, so we implement app/key/value database to \n     *     allow separate contexts for separate apps within a domain.\n     *\n     * @example\n     * var idbAdapter = new LokiIndexedAdapter('finance');\n     *\n     * @constructor LokiIndexedAdapter\n     *\n     * @param {string} appname - (Optional) Application name context can be used to distinguish subdomains, 'loki' by default\n     */\n    function LokiIndexedAdapter(appname)\n    {\n      this.app = 'loki';\n\n      if (typeof (appname) !== 'undefined')\n      {\n        this.app = appname;\n      }\n\n      // keep reference to catalog class for base AKV operations\n      this.catalog = null;\n\n      if (!this.checkAvailability()) {\n        throw new Error('indexedDB does not seem to be supported for your environment');\n      }\n    }\n\n    /**\n     * Used to check if adapter is available\n     *\n     * @returns {boolean} true if indexeddb is available, false if not.\n     * @memberof LokiIndexedAdapter\n     */\n    LokiIndexedAdapter.prototype.checkAvailability = function()\n    {\n      if (typeof indexedDB !== 'undefined' && indexedDB) return true;\n\n      return false;\n    };\n\n    /**\n     * Retrieves a serialized db string from the catalog.\n     *\n     * @example\n     * // LOAD\n     * var idbAdapter = new LokiIndexedAdapter('finance');\n     * var db = new loki('test', { adapter: idbAdapter });\n     *   db.loadDatabase(function(result) {\n     *   console.log('done');\n     * });\n     *\n     * @param {string} dbname - the name of the database to retrieve.\n     * @param {function} callback - callback should accept string param containing serialized db string.\n     * @memberof LokiIndexedAdapter\n     */\n    LokiIndexedAdapter.prototype.loadDatabase = function(dbname, callback)\n    {\n      var appName = this.app;\n      var adapter = this;\n\n      // lazy open/create db reference so dont -need- callback in constructor\n      if (this.catalog === null || this.catalog.db === null) {\n        this.catalog = new LokiCatalog(function(cat) {\n          adapter.catalog = cat;\n\n          adapter.loadDatabase(dbname, callback);\n        });\n\n        return;\n      }\n\n      // lookup up db string in AKV db\n      this.catalog.getAppKey(appName, dbname, function(result) {\n        if (typeof (callback) === 'function') {\n          if (result.id === 0) {\n            callback(null);\n            return;\n          }\n          callback(result.val);\n        }\n        else {\n          // support console use of api\n          console.log(result.val);\n        }\n      });\n    };\n\n    // alias\n    LokiIndexedAdapter.prototype.loadKey = LokiIndexedAdapter.prototype.loadDatabase;\n\n    /**\n     * Saves a serialized db to the catalog.\n     *\n     * @example\n     * // SAVE : will save App/Key/Val as 'finance'/'test'/{serializedDb}\n     * var idbAdapter = new LokiIndexedAdapter('finance');\n     * var db = new loki('test', { adapter: idbAdapter });\n     * var coll = db.addCollection('testColl');\n     * coll.insert({test: 'val'});\n     * db.saveDatabase();  // could pass callback if needed for async complete\n     *\n     * @param {string} dbname - the name to give the serialized database within the catalog.\n     * @param {string} dbstring - the serialized db string to save.\n     * @param {function} callback - (Optional) callback passed obj.success with true or false\n     * @memberof LokiIndexedAdapter\n     */\n    LokiIndexedAdapter.prototype.saveDatabase = function(dbname, dbstring, callback)\n    {\n      var appName = this.app;\n      var adapter = this;\n\n      function saveCallback(result) {\n        if (result && result.success === true) {\n          callback(null);\n        }\n        else {\n          callback(new Error(\"Error saving database\"));\n        }\n      }\n\n      // lazy open/create db reference so dont -need- callback in constructor\n      if (this.catalog === null || this.catalog.db === null) {\n        this.catalog = new LokiCatalog(function(cat) {\n          adapter.catalog = cat;\n\n          // now that catalog has been initialized, set (add/update) the AKV entry\n          cat.setAppKey(appName, dbname, dbstring, saveCallback);\n        });\n\n        return;\n      }\n\n      // set (add/update) entry to AKV database\n      this.catalog.setAppKey(appName, dbname, dbstring, saveCallback);\n    };\n\n    // alias\n    LokiIndexedAdapter.prototype.saveKey = LokiIndexedAdapter.prototype.saveDatabase;\n\n    /**\n     * Deletes a serialized db from the catalog.\n     *\n     * @example\n     * // DELETE DATABASE\n     * // delete 'finance'/'test' value from catalog\n     * idbAdapter.deleteDatabase('test', function {\n     *   // database deleted\n     * });\n     *\n     * @param {string} dbname - the name of the database to delete from the catalog.\n     * @param {function=} callback - (Optional) executed on database delete\n     * @memberof LokiIndexedAdapter\n     */\n    LokiIndexedAdapter.prototype.deleteDatabase = function(dbname, callback)\n    {\n      var appName = this.app;\n      var adapter = this;\n\n      // lazy open/create db reference and pass callback ahead\n      if (this.catalog === null || this.catalog.db === null) {\n        this.catalog = new LokiCatalog(function(cat) {\n          adapter.catalog = cat;\n\n          adapter.deleteDatabase(dbname, callback);\n        });\n\n        return;\n      }\n\n      // catalog was already initialized, so just lookup object and delete by id\n      this.catalog.getAppKey(appName, dbname, function(result) {\n        var id = result.id;\n\n        if (id !== 0) {\n          adapter.catalog.deleteAppKey(id, callback);\n        } else if (typeof (callback) === 'function') {\n          callback({ success: true });\n        }\n      });\n    };\n\n    // alias\n    LokiIndexedAdapter.prototype.deleteKey = LokiIndexedAdapter.prototype.deleteDatabase;\n\n    /**\n     * Removes all database partitions and pages with the base filename passed in.\n     * This utility method does not (yet) guarantee async deletions will be completed before returning\n     *\n     * @param {string} dbname - the base filename which container, partitions, or pages are derived\n     * @memberof LokiIndexedAdapter\n     */\n    LokiIndexedAdapter.prototype.deleteDatabasePartitions = function(dbname) {\n      var self=this;\n      this.getDatabaseList(function(result) {\n        result.forEach(function(str) {\n          if (str.startsWith(dbname)) {\n            self.deleteDatabase(str);\n          }\n        });\n      });\n    };\n\n    /**\n     * Retrieves object array of catalog entries for current app.\n     *\n     * @example\n     * idbAdapter.getDatabaseList(function(result) {\n     *   // result is array of string names for that appcontext ('finance')\n     *   result.forEach(function(str) {\n     *     console.log(str);\n     *   });\n     * });\n     *\n     * @param {function} callback - should accept array of database names in the catalog for current app.\n     * @memberof LokiIndexedAdapter\n     */\n    LokiIndexedAdapter.prototype.getDatabaseList = function(callback)\n    {\n      var appName = this.app;\n      var adapter = this;\n\n      // lazy open/create db reference so dont -need- callback in constructor\n      if (this.catalog === null || this.catalog.db === null) {\n        this.catalog = new LokiCatalog(function(cat) {\n          adapter.catalog = cat;\n\n          adapter.getDatabaseList(callback);\n        });\n\n        return;\n      }\n\n      // catalog already initialized\n      // get all keys for current appName, and transpose results so just string array\n      this.catalog.getAppKeys(appName, function(results) {\n        var names = [];\n\n        for(var idx = 0; idx < results.length; idx++) {\n          names.push(results[idx].key);\n        }\n\n        if (typeof (callback) === 'function') {\n          callback(names);\n        }\n        else {\n          names.forEach(function(obj) {\n            console.log(obj);\n          });\n        }\n      });\n    };\n\n    // alias\n    LokiIndexedAdapter.prototype.getKeyList = LokiIndexedAdapter.prototype.getDatabaseList;\n\n    /**\n     * Allows retrieval of list of all keys in catalog along with size\n     *\n     * @param {function} callback - (Optional) callback to accept result array.\n     * @memberof LokiIndexedAdapter\n     */\n    LokiIndexedAdapter.prototype.getCatalogSummary = function(callback)\n    {\n      var appName = this.app;\n      var adapter = this;\n\n      // lazy open/create db reference\n      if (this.catalog === null || this.catalog.db === null) {\n        this.catalog = new LokiCatalog(function(cat) {\n          adapter.catalog = cat;\n\n          adapter.getCatalogSummary(callback);\n        });\n\n        return;\n      }\n\n      // catalog already initialized\n      // get all keys for current appName, and transpose results so just string array\n      this.catalog.getAllKeys(function(results) {\n        var entries = [];\n        var obj,\n          size,\n          oapp,\n          okey,\n          oval;\n\n        for(var idx = 0; idx < results.length; idx++) {\n          obj = results[idx];\n          oapp = obj.app || '';\n          okey = obj.key || '';\n          oval = obj.val || '';\n\n          // app and key are composited into an appkey column so we will mult by 2\n          size = oapp.length * 2 + okey.length * 2 + oval.length + 1;\n\n          entries.push({ \"app\": obj.app, \"key\": obj.key, \"size\": size });\n        }\n\n        if (typeof (callback) === 'function') {\n          callback(entries);\n        }\n        else {\n          entries.forEach(function(obj) {\n            console.log(obj);\n          });\n        }\n      });\n    };\n\n    /**\n     * LokiCatalog - underlying App/Key/Value catalog persistence\n     *    This non-interface class implements the actual persistence.\n     *    Used by the IndexedAdapter class.\n     */\n    function LokiCatalog(callback)\n    {\n      this.db = null;\n      this.initializeLokiCatalog(callback);\n    }\n\n    LokiCatalog.prototype.initializeLokiCatalog = function(callback) {\n      var openRequest = indexedDB.open('LokiCatalog', 1);\n      var cat = this;\n\n      // If database doesn't exist yet or its version is lower than our version specified above (2nd param in line above)\n      openRequest.onupgradeneeded = function(e) {\n        var thisDB = e.target.result;\n        if (thisDB.objectStoreNames.contains('LokiAKV')) {\n          thisDB.deleteObjectStore('LokiAKV');\n        }\n\n        if(!thisDB.objectStoreNames.contains('LokiAKV')) {\n          var objectStore = thisDB.createObjectStore('LokiAKV', { keyPath: 'id', autoIncrement:true });\n          objectStore.createIndex('app', 'app', {unique:false});\n          objectStore.createIndex('key', 'key', {unique:false});\n          // hack to simulate composite key since overhead is low (main size should be in val field)\n          // user (me) required to duplicate the app and key into comma delimited appkey field off object\n          // This will allow retrieving single record with that composite key as well as\n          // still supporting opening cursors on app or key alone\n          objectStore.createIndex('appkey', 'appkey', {unique:true});\n        }\n      };\n\n      openRequest.onsuccess = function(e) {\n        cat.db = e.target.result;\n\n        if (typeof (callback) === 'function') callback(cat);\n      };\n\n      openRequest.onerror = function(e) {\n        throw e;\n      };\n    };\n\n    LokiCatalog.prototype.getAppKey = function(app, key, callback) {\n      var transaction = this.db.transaction(['LokiAKV'], 'readonly');\n      var store = transaction.objectStore('LokiAKV');\n      var index = store.index('appkey');\n      var appkey = app + \",\" + key;\n      var request = index.get(appkey);\n\n      request.onsuccess = (function(usercallback) {\n        return function(e) {\n          var lres = e.target.result;\n\n          if (lres === null || typeof(lres) === 'undefined') {\n            lres = {\n              id: 0,\n              success: false\n            };\n          }\n\n          if (typeof(usercallback) === 'function') {\n            usercallback(lres);\n          }\n          else {\n            console.log(lres);\n          }\n        };\n      })(callback);\n\n      request.onerror = (function(usercallback) {\n        return function(e) {\n          if (typeof(usercallback) === 'function') {\n            usercallback({ id: 0, success: false });\n          }\n          else {\n            throw e;\n          }\n        };\n      })(callback);\n    };\n\n    LokiCatalog.prototype.getAppKeyById = function (id, callback, data) {\n      var transaction = this.db.transaction(['LokiAKV'], 'readonly');\n      var store = transaction.objectStore('LokiAKV');\n      var request = store.get(id);\n\n      request.onsuccess = (function(data, usercallback){\n        return function(e) {\n          if (typeof(usercallback) === 'function') {\n            usercallback(e.target.result, data);\n          }\n          else {\n            console.log(e.target.result);\n          }\n        };\n      })(data, callback);\n    };\n\n    LokiCatalog.prototype.setAppKey = function (app, key, val, callback) {\n      var transaction = this.db.transaction(['LokiAKV'], 'readwrite');\n      var store = transaction.objectStore('LokiAKV');\n      var index = store.index('appkey');\n      var appkey = app + \",\" + key;\n      var request = index.get(appkey);\n\n      // first try to retrieve an existing object by that key\n      // need to do this because to update an object you need to have id in object, otherwise it will append id with new autocounter and clash the unique index appkey\n      request.onsuccess = function(e) {\n        var res = e.target.result;\n\n        if (res === null || res === undefined) {\n          res = {\n            app:app,\n            key:key,\n            appkey: app + ',' + key,\n            val:val\n          };\n        }\n        else {\n          res.val = val;\n        }\n\n        var requestPut = store.put(res);\n\n        requestPut.onerror = (function(usercallback) {\n          return function(e) {\n            if (typeof(usercallback) === 'function') {\n              usercallback({ success: false });\n            }\n            else {\n              console.error('LokiCatalog.setAppKey (set) onerror');\n              console.error(request.error);\n            }\n          };\n\n        })(callback);\n\n        requestPut.onsuccess = (function(usercallback) {\n          return function(e) {\n            if (typeof(usercallback) === 'function') {\n              usercallback({ success: true });\n            }\n          };\n        })(callback);\n      };\n\n      request.onerror = (function(usercallback) {\n        return function(e) {\n          if (typeof(usercallback) === 'function') {\n            usercallback({ success: false });\n          }\n          else {\n            console.error('LokiCatalog.setAppKey (get) onerror');\n            console.error(request.error);\n          }\n        };\n      })(callback);\n    };\n\n    LokiCatalog.prototype.deleteAppKey = function (id, callback) {\n      var transaction = this.db.transaction(['LokiAKV'], 'readwrite');\n      var store = transaction.objectStore('LokiAKV');\n      var request = store.delete(id);\n\n      request.onsuccess = (function(usercallback) {\n        return function(evt) {\n          if (typeof(usercallback) === 'function') usercallback({ success: true });\n        };\n      })(callback);\n\n      request.onerror = (function(usercallback) {\n        return function(evt) {\n          if (typeof(usercallback) === 'function') {\n            usercallback({ success: false });\n          }\n          else {\n            console.error('LokiCatalog.deleteAppKey raised onerror');\n            console.error(request.error);\n          }\n        };\n      })(callback);\n    };\n\n    LokiCatalog.prototype.getAppKeys = function(app, callback) {\n      var transaction = this.db.transaction(['LokiAKV'], 'readonly');\n      var store = transaction.objectStore('LokiAKV');\n      var index = store.index('app');\n\n      // We want cursor to all values matching our (single) app param\n      var singleKeyRange = IDBKeyRange.only(app);\n\n      // To use one of the key ranges, pass it in as the first argument of openCursor()/openKeyCursor()\n      var cursor = index.openCursor(singleKeyRange);\n\n      // cursor internally, pushing results into this.data[] and return\n      // this.data[] when done (similar to service)\n      var localdata = [];\n\n      cursor.onsuccess = (function(data, callback) {\n        return function(e) {\n          var cursor = e.target.result;\n          if (cursor) {\n            var currObject = cursor.value;\n\n            data.push(currObject);\n\n            cursor.continue();\n          }\n          else {\n            if (typeof(callback) === 'function') {\n              callback(data);\n            }\n            else {\n              console.log(data);\n            }\n          }\n        };\n      })(localdata, callback);\n\n      cursor.onerror = (function(usercallback) {\n        return function(e) {\n          if (typeof(usercallback) === 'function') {\n            usercallback(null);\n          }\n          else {\n            console.error('LokiCatalog.getAppKeys raised onerror');\n            console.error(e);\n          }\n        };\n      })(callback);\n\n    };\n\n    // Hide 'cursoring' and return array of { id: id, key: key }\n    LokiCatalog.prototype.getAllKeys = function (callback) {\n      var transaction = this.db.transaction(['LokiAKV'], 'readonly');\n      var store = transaction.objectStore('LokiAKV');\n      var cursor = store.openCursor();\n\n      var localdata = [];\n\n      cursor.onsuccess = (function(data, callback) {\n        return function(e) {\n          var cursor = e.target.result;\n          if (cursor) {\n            var currObject = cursor.value;\n\n            data.push(currObject);\n\n            cursor.continue();\n          }\n          else {\n            if (typeof(callback) === 'function') {\n              callback(data);\n            }\n            else {\n              console.log(data);\n            }\n          }\n        };\n      })(localdata, callback);\n\n      cursor.onerror = (function(usercallback) {\n        return function(e) {\n          if (typeof(usercallback) === 'function') usercallback(null);\n        };\n      })(callback);\n\n    };\n\n    return LokiIndexedAdapter;\n\n  }());\n}));\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && msCrypto.getRandomValues.bind(msCrypto));\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  return bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\nmodule.exports = bytesToUuid;\n","import stampit from '@stamp/it';\nimport Utilities from 'utilities';\n\nexport default stampit({\n  init(data) {\n    if (!Array.isArray(data)) {\n      throw new Error('Collect method only accepts arrays of data');\n    }\n    this.data = data;\n  },\n  properties: {\n    data: []\n  },\n  methods: {\n    /**\n     * \n     */\n    get() {\n      return this.data;\n    },\n    /**\n     * Alias for the \"get\" method\n     * @return function\n     */\n    all() {\n      return this.get();\n    },\n    /**\n     * Alias for the \"average\" method.\n     *\n     * @param  {String}  path Path of the key\n     * @return function\n     */\n    avg(path) {\n      return this.average(path);\n    },\n    /**\n     * Get the average value of a given key.\n     *\n     * @param  {String}  path Path of the key\n     * @return static\n     */\n    average(path = '') {\n      let data = [...this.data]\n      const sum = data.reduce((acc, element) => {\n        let value = element;\n\n        if (element instanceof Object) {\n          let extract = Utilities.getFromPath(element, path, undefined);\n          if (typeof extract !== 'undefined' && extract.value) {\n            value = extract.value\n          }\n        }\n        return acc + value;\n      }, 0);\n\n      try {\n        const avg = sum / data.length;\n        return avg;\n      } catch (e) {\n        throw new Error('Division between \"' + sum + '\" and \"' + data.length + '\" is not valid.');\n      }\n    },\n    /**\n     * Chunks the given array\n     *\n     * @param {Int} size\n     * @return static\n     */\n    chunks(size) {\n      let data = [...this.data];\n      var results = [];\n\n      while (data.length) {\n        results.push(data.splice(0, size));\n      }\n\n      this.data = results;\n      return this;\n    },\n    /**\n     * \n     */\n    collapse() {\n      let data = [...this.data];\n      var results = [];\n\n      data.forEach((chunk) => {\n        if (Array.isArray(chunk)) {\n          chunk.forEach((element) => {\n            results.push(element);\n          });\n        } else {\n          results.push(chunk);\n        }\n      });\n      this.data = results;\n\n      return this;\n    },\n    unChunk() {\n      return this.collapse();\n    },\n    combine(array) {\n      const data = [...this.data];\n      let result;\n      data.forEach((e, index) => {\n        if (!(e instanceof Object)) {\n          if (!result) {\n            result = {}\n          }\n          result[e] = array[index]\n        } else {\n          if (!result) {\n            result = []\n          }\n          result[index] = { ...e, _value: array[index] }\n        }\n      })\n\n      this.data = result;\n      return this\n    },\n    concat(array) {\n      this.data = [...this.data, ...array];\n      return this;\n    },\n    contains(...args) {\n      let value;\n      let path;\n      let Fx;\n      if (args.length === 1) {\n        if (this.isFunction(args[0])) {\n          Fx = args[0]\n        }\n        value = args[0]\n      } else {\n        value = args[1];\n        path = args[0];\n      }\n      let data = [...this.data];\n\n      return data.some((e, index) => {\n        if (Fx) {\n          return !!Fx(e, index);\n        }\n        let val = e;\n        if (e instanceof Object) {\n          let extract = this.getFromPath(e, path, undefined)\n          if (extract.value) {\n            val = extract.value\n          }\n        }\n        return val === value\n\n      })\n    },\n    count() {\n      return this.data.length\n    },\n    getFromPath(obj, path, def) {\n      let _path = path;\n\n      if (path.includes(' as ')) {\n        path = path.split(' as ');\n        _path = path[0];\n      }\n\n      let assignedName = this.get(() => {\n        return Array.isArray(path) && path[1].trim();\n      }, undefined);\n\n      let fullPath = _path\n        .replace(/\\[/g, '.')\n        .replace(/]/g, '')\n        .split('.')\n        .filter(Boolean)\n        .map(e => e.trim());\n\n      function everyFunc(step) {\n        return !(step && (obj = obj[step]) === undefined);\n      }\n\n      let result = fullPath.every(everyFunc) ? obj : def;\n\n      return { label: assignedName || _path, value: result };\n    },\n    get(fn, def) {\n      try {\n        return fn();\n      } catch (e) {\n        return def;\n      }\n    },\n    isFunction(functionToCheck) {\n      return functionToCheck && {}.toString.call(functionToCheck) === '[object Function]';\n    }\n  }\n});\n","import to from 'await-to-js';\n// import Utilities from 'utilities';\nimport axios from 'axios';\nimport Interface from '../../../Interface';\nimport stampit from '@stamp/it';\nimport Connection from 'Wrappers/Connection';\nimport Fluent from '../../../Fluent';\n\nexport default stampit(Interface, {\n  methods: {\n    getToken() {\n      return localStorage.getItem('formioToken');\n    },\n    baseUrl() {\n      if (\n        this.remoteConnection &&\n        this.remoteConnection.type &&\n        this.remoteConnection.type === 'config'\n      ) {\n        const { FAST_CONFIG_URL } = Fluent.getConfig();\n\n        return FAST_CONFIG_URL;\n      }\n\n      const { FLUENT_FORMIO_BASEURL } = Fluent.getConfig();\n\n      return FLUENT_FORMIO_BASEURL;\n    },\n    id() {\n      if (\n        this.remoteConnection &&\n        this.remoteConnection.type &&\n        this.remoteConnection.type === 'config'\n      ) {\n        const { FAST_CONFIG_ID } = Fluent.getConfig();\n\n        return FAST_CONFIG_ID;\n      }\n      return this.remoteConnection.id;\n    },\n    async get() {\n      let error;\n      let result;\n\n      [error, result] = await to(this.httpGET());\n\n      if (error) {\n        console.log(error);\n        throw new Error('Error while getting submissions');\n      }\n\n      result = this.jsApplySelect(result.data);\n      result = this.jsApplyOrderBy(result);\n\n      return result;\n    },\n    async all() {\n      return this.get();\n    },\n    async insert(data, options) {\n      if (Array.isArray(data)) {\n        return this.ArrayInsert(data, options)\n      }\n      let [error, result] = await to(this.httpPOST(data));\n\n      if (error) {\n        console.log(error);\n        throw new Error('Cannot insert data');\n      }\n      return result.data;\n    },\n    async update(data) {\n      if (!data._id) {\n        throw new Error(\n          'Formio connector error. Cannot update a Model without _id key'\n        );\n      }\n      if (data._id.includes('_local')) {\n        throw new Error(\n          'Formio connector error. Cannot update a local document'\n        );\n      }\n\n      let [error, result] = await to(this.httpPUT(data));\n\n      if (error) {\n        console.log(error);\n        throw new Error('Cannot insert data');\n      }\n      return result.data;\n    },\n    async clear({ sure } = {}) {\n      if (!sure || sure !== true) {\n        throw new Error(\n          'Clear() method will delete everything!, you must set the \"sure\" parameter \"clear({sure:true})\" to continue'\n        );\n      }\n      let promises = [];\n\n      let [error, data] = await to(this.select('_id').pluck('_id'));\n\n      if (error) {\n        console.log(error);\n        throw new Error('Cannot get remote Model');\n      }\n\n      data.forEach(_id => {\n        promises.push(this.httpDelete(_id));\n      });\n\n      return axios.all(promises);\n    },\n    async remove(_id) {\n      let [error, removed] = await to(this.httpDelete(_id));\n\n      if (error) {\n        console.log(error);\n        throw new Error(`FormioConnector: Could not delete ${_id}`);\n      }\n\n      return removed;\n    },\n    async find(_id) {\n      if (typeof _id !== 'string') {\n        throw new Error(\n          'Formio connector find() method only accepts strings \"' +\n          typeof _id +\n          '\" given \"' +\n          _id +\n          '\"'\n        );\n      }\n      let [error, data] = await to(this.where('_id', '=', _id).first());\n\n      if (error) {\n        console.log(error);\n        throw new Error('Find() could not get remote data');\n      }\n\n      return data;\n    },\n    getUrl() {\n      let baseUrl = this && this.baseUrl() ? this.baseUrl() : undefined;\n      let path =\n        this.remoteConnection && this.remoteConnection.path ?\n          this.remoteConnection.path :\n          undefined;\n\n      if (!this.remoteConnection.pullForm) {\n        path = !this.id() ?\n          `${path}/submission` :\n          `${path}/submission/${this.id()}`;\n      }\n\n      if (!baseUrl || !path) {\n        throw new Error(\n          'Cannot get remote model. BaseUrl or Path is not defined'\n        );\n      }\n\n      let url = baseUrl + path;\n\n      return url;\n    },\n    getHeaders() {\n      let headers = {};\n      // Include Auth headers\n      if (this.remoteConnection.token) {\n        let type = this.getTokenType(this.remoteConnection.token);\n\n        headers[type] = this.remoteConnection.token;\n      }\n\n      return headers;\n    },\n    getSpacer(url) {\n      return url.substr(url.length - 1) === '&' ? '' : '&';\n    },\n    httpGET() {\n      let url = this.getUrl();\n      let headers = this.getHeaders();\n      let filters = this.getFilters();\n      let limit = this.getLimit();\n      let skip = this.getSkip();\n      let select = this.getSelect();\n      let spacer = '';\n\n      // Always limit the amount of requests\n      url = url + spacer + limit;\n\n      url = filters ? url + this.getSpacer(url) + filters : url;\n\n      url = skip ? url + this.getSpacer(url) + skip : url;\n\n      url = select ? url + this.getSpacer(url) + select : url;\n\n      if (!Connection.isOnline()) {\n        throw new Error(\n          `Cannot make get request to ${url}. You are not online`\n        );\n      }\n\n      return axios.get(url, { headers });\n    },\n    httpPOST(data) {\n      let url = this.getUrl();\n      let headers = this.getHeaders();\n\n      if (!Connection.isOnline()) {\n        throw new Error(\n          `Cannot make request post to ${url}. You are not online`\n        );\n      }\n      return axios.post(url, data, { headers });\n    },\n    httpPUT(data) {\n      let url = `${this.getUrl()}/${data._id}`;\n      let headers = this.getHeaders();\n\n      if (!Connection.isOnline()) {\n        throw new Error(\n          `Cannot make request post to ${url}. You are not online`\n        );\n      }\n      return axios.put(url, data, { headers });\n    },\n    httpDelete(_id) {\n      let headers = this.getHeaders();\n      let url = `${this.getUrl()}/${_id}`;\n\n      return axios.delete(url, { headers });\n    },\n    getTokenType(token) {\n      if (token.length > 32) {\n        return 'x-jwt-token';\n      }\n      return 'x-token';\n    },\n    getFilters() {\n      let filter = this.whereArray;\n\n      if (!filter || filter.length === 0) {\n        return undefined;\n      }\n\n      let filterQuery = '';\n\n      filter.forEach(condition => {\n        let valueString = '';\n        let element = condition[0];\n        let operator = condition[1];\n        let value = condition[2];\n\n        switch (operator) {\n          case '=':\n            filterQuery = filterQuery + element + '=' + value + '&';\n            break;\n          case '!=':\n            filterQuery = filterQuery + element + '__ne=' + value + '&';\n            break;\n          case '>':\n            filterQuery = filterQuery + element + '__gt=' + value + '&';\n            break;\n          case '>=':\n            filterQuery = filterQuery + element + '__gte=' + value + '&';\n            break;\n          case '<':\n            filterQuery = filterQuery + element + '__lt=' + value + '&';\n            break;\n          case '<=':\n            filterQuery = filterQuery + element + '__lte=' + value + '&';\n            break;\n          case 'in':\n            valueString = '';\n            value.forEach((val, index, array) => {\n              valueString =\n                index === array.length - 1 ?\n                  valueString + val :\n                  valueString + val + ',';\n            });\n            filterQuery = filterQuery + element + '__in=' + valueString + '&';\n            break;\n          case 'nin':\n            valueString = '';\n            value.forEach((val, index, array) => {\n              valueString =\n                index === array.length - 1 ?\n                  valueString + val :\n                  valueString + val + ',';\n            });\n            filterQuery = filterQuery + element + '__nin=' + valueString + '&';\n            break;\n          case 'exists':\n            filterQuery = filterQuery + element + '__exists=' + true + '&';\n            break;\n          case '!exists':\n            filterQuery = filterQuery + element + '__exists=' + false + '&';\n            break;\n          case 'regex':\n            filterQuery = filterQuery + element + '__regex=' + value + '&';\n            break;\n        }\n      });\n      return filterQuery.substring(0, filterQuery.length - 1);\n    },\n    getLimit() {\n      let limit = '?limit=';\n\n      if (!this.limitNumber || this.limitNumber === 0) {\n        this.limitNumber = 50;\n      }\n\n      return limit + this.limitNumber;\n    },\n    getSkip() {\n      let skip = 'skip=';\n\n      if (!this.offsetNumber) {\n        this.offsetNumber = 0;\n      }\n\n      return skip + this.offsetNumber;\n    },\n    getSelect() {\n      let select = this.selectArray;\n\n      select = select.map(e => {\n        return e.split(' as ')[0];\n      });\n\n      if (!select) {\n        return;\n      }\n\n      return 'select=' + select.join(',');\n    },\n    /**\n     *\n     * @param {*} user\n     */\n    own(user) {\n      if (!user) {\n        throw new Error(\n          'own() method requires a specific user to filter the submissions'\n        );\n      }\n      this.andWhere('owner', '=', user);\n    },\n    /**\n     *\n     * @param {*} user\n     */\n    owner(user) {\n      if (!user) {\n        throw new Error(\n          'owner() method requires a specific user to filter the submissions'\n        );\n      }\n      this.andWhere('owner', '=', user);\n    }\n  }\n});\n\n/**\n  const remoteModel = ((path) => {\n    let all = async function () {\n      let remoteData, error;\n      let formio = await getFormioInstance({ path });\n\n      [error, remoteData] = await to(formio.loadForms());\n      if (error) {\n        console.log(error);\n        throw new Error('Cannot get data');\n      }\n\n      return remoteData;\n    };\n\n    async function find ({ filter = undefined, limit = 30, select = undefined, populate = undefined, pagination }) {\n      let remoteSubmissions, error;\n      let formio = await getFormioInstance({ path: path });\n\n      let queryParams = {\n        limit: limit\n      };\n\n      if (filter && Array.isArray(filter)) {\n        let filterQuery = filterToString(filter);\n\n        queryParams = { ...queryParams, ...filterQuery };\n      }\n\n      if (select) {\n        let selectQuery = selectToString(select);\n\n        queryParams = { ...queryParams, ...selectQuery };\n      }\n\n      if (populate && Array.isArray(populate)) {\n        queryParams.populate = populate.join(',');\n      }\n\n      [error, remoteSubmissions] = await to(\n        formio.loadSubmissions({\n          params: queryParams\n        })\n      );\n      if (error) {\n        let path;\n\n        switch (path) {\n          case 'custom':\n            path = await config.get().baseURL;\n            break;\n          case undefined:\n            path = await config.get().url;\n            break;\n          default:\n            path = await config.get().baseURL;\n            path = path + '/' + path;\n            break;\n        }\n        let e = 'The API call to \"' + path + '\" could not be completed, server responded with ' + JSON.stringify(error);\n\n        throw new Error(e);\n      }\n\n      return remoteSubmissions;\n    }\n\n    async function findOne ({ filter }) {}\n\n    async function remove ({ id }) {\n      let formio = await getFormioInstance({ path: path, submissionID: id });\n      let a = await formio.deleteSubmission();\n    }\n\n    async function softDelete ({ id }) {\n      let formio = await getFormioInstance({ path: path, submissionID: id });\n      let original = await formio.loadSubmission();\n\n      original.data.enabled = false;\n      let data = original.data;\n      let softDeleted = await formio.saveSubmission({\n        _id: id,\n        data\n      });\n\n      return softDeleted;\n    }\n\n    async function insert ({ element }) {\n      let formio = await getFormioInstance({ path: path });\n\n      Formio.deregisterPlugin('offline');\n      let sub = await formio.saveSubmission(element);\n\n      return sub;\n    }\n\n    async function update ({ document }) {\n      let formio = await getFormioInstance({ path: path });\n\n      Formio.deregisterPlugin('offline');\n      let sub = await formio.saveSubmission(document);\n\n      return sub;\n    }\n\n    async function updateOrCreate ({ document }) {}\n\n    async function findAndRemove ({ filter }) {}\n\n    return Object.freeze({\n      find,\n      findOne,\n      remove,\n      insert,\n      update,\n      updateOrCreate,\n      findAndRemove,\n      getFormioInstance,\n      softDelete,\n      all\n    });\n  })();\n\nexport default remoteModel;\n*/\n","import Interface from '../../../Interface';\n\nexport default Interface.compose({\n  properties: {\n    localFx: undefined,\n    remoteFx: undefined\n  },\n  init (connectors) {\n    this.connectors = connectors;\n  },\n  methods: {\n    async get () {\n      this.prepareMergedFunctions();\n      const localData = await this.localFx.get();\n      const remoteData = await this.remoteFx.get();\n\n      return localData.concat(remoteData);\n    },\n    owner (user) {\n      this.chainReference.push({ method: 'owner', args: user });\n    },\n    own (user) {\n      this.chainReference.push({ method: 'own', args: user });\n    },\n    prepareMergedFunctions () {\n      this.localFx = this.connectors.local;\n      this.remoteFx = this.connectors.remote;\n\n      this.chainReference.forEach(chain => {\n        const method = chain.method;\n        const args = chain.args;\n\n        this.localFx = this.localFx[method](args);\n        this.remoteFx = this.remoteFx[method](args);\n      });\n    }\n  }\n});\n","var compose = require('@stamp/compose');\nvar privates = new WeakMap(); // WeakMap works in IE11, node 0.12\n\nvar makeProxyFunction = function (fn, name) {\n  function proxiedFn() {\n    'use strict';\n    var fields = privates.get(this); // jshint ignore:line\n    return fn.apply(fields, arguments);\n  }\n\n  Object.defineProperty(proxiedFn, 'name', {\n    value: name,\n    configurable: true\n  });\n\n  return proxiedFn;\n};\n\nfunction initializer(_, opts) {\n  var descriptor = opts.stamp.compose;\n  var privateMethodNames = descriptor.deepConfiguration.Privatize.methods;\n\n  var newObject = {}; // our proxy object\n  privates.set(newObject, this);\n\n  var methods = descriptor.methods;\n  if (!methods) {\n    return newObject;\n  }\n\n  var methodNames = Object.keys(methods);\n  for (var i = 0; i < methodNames.length; i++) {\n    var name = methodNames[i];\n    if (privateMethodNames.indexOf(name) < 0) { // not private, thus wrap\n      newObject[name] = makeProxyFunction(methods[name], name);\n    }\n  }\n\n  // Integration with @stamp/instanceof\n  if (typeof Symbol !== \"undefined\") {\n    var stampSymbol = Symbol.for('stamp');\n    if (methods[stampSymbol]) {\n      newObject[stampSymbol] = opts.stamp;\n    }\n  }\n\n  return newObject;\n}\n\nvar Privatize = compose({\n  initializers: [initializer],\n  deepConfiguration: {Privatize: {methods: []}},\n  staticProperties: {\n    privatizeMethods: function () {\n      'use strict';\n      var methodNames = [];\n      for (var i = 0; i < arguments.length; i++) {\n        var arg = arguments[i];\n        if (typeof arg === 'string' && arg.length > 0) {\n          methodNames.push(arg);\n        }\n      }\n      var Stamp = this && this.compose ? this : Privatize;\n      return Stamp.compose({\n        deepConfiguration: {\n          Privatize: {\n            methods: methodNames\n          }\n        }\n      });\n    }\n  },\n  composers: [function (opts) {\n    var initializers = opts.stamp.compose.initializers;\n    // Keep our initializer the last to return proxy object\n    initializers.splice(initializers.indexOf(initializer), 1);\n    initializers.push(initializer);\n  }]\n});\n\nmodule.exports = Privatize;\n","import Utilities from 'utilities';\nimport Translation from 'models/Translation';\nimport Pages from 'models/Pages';\n\nclass FormLabels {\n  /**\n   *\n   * @param {*} formNameFilter\n   * @param {*} languageFilter\n   */\n  static async get (forms, i18n) {\n    return this.handle(forms, i18n);\n  }\n  /**\n   *\n   * @param {*} formNameFilter\n   * @param {*} languageFilter\n   */\n  static async handle (forms, i18n) {\n    let labels = await this.fetchAllLabels(forms, i18n);\n\n    let translations = (await Translation.local().first()).data;\n\n    // Merge labels and translations\n    Object.keys(translations).forEach(function (languageCode) {\n      let translationsLabels = translations[languageCode];\n\n      Object.keys(translationsLabels).forEach(function (translationLabel) {\n        if (\n          labels[translationLabel] &&\n          translationsLabels[translationLabel] &&\n          translationsLabels[translationLabel] !== ''\n        ) {\n          labels[translationLabel].translations[languageCode] = translationsLabels[translationLabel];\n        }\n      });\n    });\n\n    return labels;\n  }\n  /**\n   *  Fetches all Labels for the different\n   *  types of labels inputs that the\n   *  application has\n   */\n  static async fetchAllLabels (forms, i18n) {\n    let allLabels = {};\n\n    forms = forms.map((form) => {\n      return form.data;\n    });\n\n    let formLabels = this.getFormLabels(forms);\n\n    let appLabels = await this.getAppLabels(i18n);\n\n    allLabels = this.mergeLabels(formLabels, appLabels);\n\n    let pagesLabels = await this.getPagesLabels(await Pages.local().first());\n\n    allLabels = this.mergeLabels(allLabels, pagesLabels);\n\n    return allLabels;\n  }\n  /**\n   * Given an Object with text labels and a label Object\n   * to add it checks if it already exists or\n   * creates it if needed\n   * @param {Object} labels\n   * @param {Object} label\n   */\n  static createOrAdd ({ labels, label }) {\n    let newObject = { ...labels };\n\n    // If the label already exists\n    if (newObject[label.text]) {\n      // If the location is an Array of Locations\n      if (label.location && Array.isArray(label.location)) {\n        label.location.forEach((l) => {\n          newObject[label.text].location.push({\n            text: label.text,\n            template: label.template,\n            type: l.type,\n            picture: l.picture\n          });\n        });\n      } else {\n        newObject[label.text].location.push(label);\n      }\n      // If the label does not exist\n    } else {\n      if (label.location && Array.isArray(label.location)) {\n        newObject[label.text] = {\n          location: [],\n          template: label.template,\n          translations: {}\n        };\n        label.location.forEach((l) => {\n          newObject[label.text].location.push({\n            text: label.text,\n            template: label.template,\n            type: l.type,\n            picture: l.picture\n          });\n        });\n      } else {\n        newObject[label.text] = {\n          location: [label],\n          translations: {}\n        };\n      }\n    }\n    return newObject;\n  }\n  /**\n   * Merges 2 different sets of translations\n   * into a single one with no repeted\n   * elements\n   * @param {Object} labelsObject1\n   * @param {Object} labelsObject2\n   */\n  static mergeLabels (labelsObject1, labelsObject2) {\n    let merged = { ...labelsObject1 };\n\n    Object.keys(labelsObject2).forEach((key) => {\n      merged = this.createOrAdd({\n        labels: merged,\n        label: {\n          ...labelsObject2[key],\n          text: key\n        }\n      });\n    });\n    return merged;\n  }\n  /**\n   * Extracts all labels that could potentially\n   * be translated from the Form.io forms\n   * @param {Array} Forms\n   */\n  static getFormLabels (Forms) {\n    let componentLabels = {};\n    // Extranct all labels for all available forms\n\n    let formioLabelsPositions = [\n      'suffix',\n      'prefix',\n      'addAnother',\n      'removeRow',\n      'saveRow',\n      'legend',\n      'title',\n      'label',\n      'placeholder',\n      'tooltip'\n    ];\n\n    Forms.forEach((form) => {\n      // Add title of the Forms to the translations\n      componentLabels = this.createOrAdd({\n        labels: componentLabels,\n        label: {\n          text: form.title,\n          type: 'formTitle',\n          component: form.path,\n          form: form.path,\n          picture: null\n        }\n      });\n      // Go across every component\n      Utilities.eachComponent(\n        form.components,\n        (component) => {\n          // Check for the common translated Items listed above\n          formioLabelsPositions.forEach((position) => {\n            if (component[position] && component[position] !== '') {\n              // Add the Label if is not empty\n              componentLabels = this.createOrAdd({\n                labels: componentLabels,\n                label: {\n                  text: component[position],\n                  type: position,\n                  component: component.key,\n                  form: form.path,\n                  picture: null\n                }\n              });\n            }\n          });\n\n          // Check for components that have values with labels (i.e: radio)\n          if (component.values) {\n            component.values.forEach((value) => {\n              if (value.label && value.label !== '') {\n                componentLabels = this.createOrAdd({\n                  labels: componentLabels,\n                  label: {\n                    text: value.label,\n                    type: 'value',\n                    component: component.key,\n                    form: form.path,\n                    picture: null\n                  }\n                });\n              }\n            });\n          }\n\n          // Check for HTML tag elements in the forms\n          if (component.type === 'htmlelement' && component.content !== '') {\n            componentLabels = this.createOrAdd({\n              labels: componentLabels,\n              label: {\n                text: component.content,\n                type: 'htmlElement',\n                component: component.key,\n                form: form.path,\n                picture: null\n              }\n            });\n          }\n\n          // Check specificaly for select elements\n          if (component.type === 'select') {\n            if (component.data && component.data.values) {\n              component.data.values.forEach((value) => {\n                if (value.label && value.label !== '') {\n                  componentLabels = this.createOrAdd({\n                    labels: componentLabels,\n                    label: {\n                      text: value.label,\n                      type: 'selectValue',\n                      component: component.key,\n                      form: form.path,\n                      picture: null\n                    }\n                  });\n                }\n              });\n            }\n          }\n\n          // Check for survey elements\n          if (component.type && component.type === 'survey') {\n            if (component.questions) {\n              // Check for every question on the survey\n              component.questions.forEach((q) => {\n                componentLabels = this.createOrAdd({\n                  labels: componentLabels,\n                  label: {\n                    text: q.label,\n                    type: 'surveyLabel',\n                    component: component.key,\n                    form: form.path,\n                    picture: null\n                  }\n                });\n              });\n              // Check every text of the answers\n              component.values.forEach((v) => {\n                componentLabels = this.createOrAdd({\n                  labels: componentLabels,\n                  label: {\n                    text: v.label,\n                    type: 'surveyValues',\n                    component: component.key,\n                    form: form.path,\n                    picture: null\n                  }\n                });\n              });\n            }\n          }\n        },\n        true\n      );\n    });\n\n    return componentLabels;\n  }\n  /**\n   *  Creates the Labels Object for the\n   *  App translations\n   * @param {Array} appLabels\n   */\n  static async getAppLabels (appLabels) {\n    let translations = {};\n\n    appLabels.forEach((l) => {\n      translations = this.createOrAdd({\n        labels: translations,\n        label: l\n      });\n    });\n\n    return translations;\n  }\n  /**\n   *  Creates the Labels Object for the\n   *  App Pages\n   * @param {Array} appLabels\n   */\n  static async getPagesLabels (Pages) {\n    console.log('----------------------');\n    console.log('===>Pages', Pages);\n    console.log('----------------------');\n\n    let pagesLabels = {};\n\n    Pages.pages.forEach((page) => {\n      if (page.title && page.title !== '') {\n        pagesLabels = this.createOrAdd({\n          labels: pagesLabels,\n          label: {\n            text: page.title,\n            type: 'pageTitle',\n            picture: null,\n            page: page\n          }\n        });\n      }\n      page.cards.forEach((card) => {\n        if (card.title && card.title !== '') {\n          pagesLabels = this.createOrAdd({\n            labels: pagesLabels,\n            label: {\n              text: card.title,\n              type: 'pageCardTitle',\n              picture: null,\n              card: card,\n              page: page\n            }\n          });\n        }\n\n        if (card.subtitle && card.subtitle !== '') {\n          this.createOrAdd({\n            labels: pagesLabels,\n            label: {\n              text: card.subtitle,\n              type: 'pageCardSubtitle',\n              picture: null,\n              card: card,\n              page: page\n            }\n          });\n        }\n\n        card.actions.forEach((action) => {\n          if (action.text && action.text !== '') {\n            pagesLabels = this.createOrAdd({\n              labels: pagesLabels,\n              label: {\n                text: action.text,\n                type: 'pageActionButtonText',\n                picture: null,\n                card: card,\n                page: page\n              }\n            });\n          }\n        });\n      });\n    });\n\n    return pagesLabels;\n  }\n}\nexport default FormLabels;\n","import Sync from './Sync';\nimport Utilities from 'utilities';\n\nlet SyncInterval = (() => {\n  async function set (milliseconds) {\n    let rInterval = function (callback, delay) {\n      let dateNow = Date.now,\n        requestAnimation = (typeof window !== 'undefined') && window.requestAnimationFrame,\n        start = dateNow(),\n        stop,\n        intervalFunc = function () {\n          // eslint-disable-next-line no-use-before-define\n          dateNow() - start < delay || ((start += delay), callback());\n          // eslint-disable-next-line no-use-before-define\n          stop || requestAnimation(intervalFunc);\n        };\n\n      requestAnimation(intervalFunc);\n      return {\n        clear: function () {\n          stop = 1;\n        }\n      };\n    };\n\n    var _debouncedSync = Utilities.debounce(Sync.now, 2000);\n\n    rInterval(_debouncedSync, milliseconds);\n  }\n\n  return Object.freeze({\n    set\n  });\n})();\n\nexport default SyncInterval;\n","import Utilities from 'utilities';\nimport Form from '../Form';\n\nlet Columns = class {\n  static async getTableView (path) {\n    const form = (await Form.find({ path })).data;\n\n    return Utilities.findComponents(form.components, {\n      input: true,\n      tableView: true\n    })\n      .slice(0, 7)\n      .filter(c => {\n        return !!(c.label !== '');\n      });\n  }\n};\n\nexport default Columns;\n","import Connection from 'Wrappers/Connection';\nimport Submission from 'models/Submission';\nimport Event from 'Wrappers/Event';\nimport Scheduler from 'repositories/Database/Scheduler';\nimport Form from 'models/Form';\nimport to from 'await-to-js';\n\nlet OfflineData = (() => {\n  const sendSubmission = async (offlineSubmission) => {\n    let remoteEndPoint = Form.getModel({ path: offlineSubmission.path }).remote();\n\n    offlineSubmission.queuedForSync = true;\n    let sub = Submission(offlineSubmission.path);\n\n    // Set the submission as queuedForSync\n    await sub.local().update(offlineSubmission);\n\n    let [error, insertedData] = await to(remoteEndPoint.insert(offlineSubmission));\n\n    if (error) {\n      console.log(error);\n      offlineSubmission.queuedForSync = false;\n      offlineSubmission.syncError = error;\n      sub.local().update(offlineSubmission);\n      throw new Error('Error while Syncing data');\n    }\n    if (!insertedData._id) {\n      throw Error('The remote endpoint did not save the submission properly (no _id back)');\n    }\n\n    let [e] = await to(sub.local().remove(offlineSubmission._id));\n\n    if (e) {\n      throw new Error('Sync error:Could not remove local submission after sync');\n    }\n    return true;\n  };\n\n  async function send (data) {\n    let offlineSubmissions = data;\n    let isOnline = await Connection.isOnline();\n\n    let PromiseEach = async function (arr, fn) {\n      for (const item of arr) await fn(item);\n    };\n\n    if (isOnline) {\n      await Scheduler.startSync();\n\n      let [error] = await to(\n        PromiseEach(offlineSubmissions, async (offlineSubmission) => {\n          await sendSubmission(offlineSubmission);\n        })\n      );\n\n      Scheduler.stopSync();\n      if (error) {\n        console.log(error);\n      }\n\n      console.log('Submissions Synced');\n      Event.emit({\n        name: 'FAST:SUBMISSION:SYNCED',\n        data: {},\n        text: 'The submissions have been synced'\n      });\n    }\n  }\n\n  return Object.freeze({\n    send\n  });\n})();\n\nexport default OfflineData;\n","import moment from 'moment';\n// import 'moment/min/locales';\n\nlet Moment = class {\n  static setLocales () {\n    moment.locale(Moment.getLenguage());\n  }\n  static changeLanguage (code) {\n    moment.locale(code);\n  }\n\n  static getLenguage () {\n    return localStorage.getItem('defaultLenguage') ? localStorage.getItem('defaultLenguage') : 'en';\n  }\n};\n\nexport default Moment;\n","import uuidv4 from 'uuid/v4';\nimport Utilities from 'utilities';\nimport Submission from 'models/Submission';\nimport Promise from 'bluebird';\n\nlet ParallelSurvey = (() => {\n  function getNewGroupWizard (vm) {\n    let progressSteps = ['1', '2', '3'];\n    let steps = [\n      {\n        title: vm.$t('Group Name'),\n        text: vm.$t('Give the group a name'),\n        inputValidator: (value) => {\n          return new Promise((resolve, reject) => {\n            if (value !== '') {\n              resolve();\n            } else {\n              let error = new Error(vm.$t('The group name is already taken'));\n\n              reject(error);\n            }\n          });\n        }\n      },\n      {\n        title: vm.$t('Current Participant Name'),\n        text: vm.$t('Give the current participant a name')\n      },\n      {\n        title: vm.$t('Next participant Name'),\n        text: vm.$t('Give the next participant a name')\n      }\n    ];\n\n    return { progressSteps: progressSteps, steps: steps };\n  }\n\n  function getNewUserWizard (vm) {\n    let progressSteps = ['1'];\n    let steps = [\n      {\n        title: vm.$t('Participant Name'),\n        text: vm.$t('Give the next participant a name')\n      }\n    ];\n\n    return { progressSteps: progressSteps, steps: steps };\n  }\n\n  function getGroupId (submission) {\n    let groupId = Utilities.get(() => Submission('*').local().getParallelSurvey(submission).groupId);\n\n    return groupId;\n  }\n\n  function submissionHasGroup (groupId) {\n    return groupId;\n  }\n  /**\n   * Creates the Wizard object to have new user or new group\n   * @param {*} param0\n   */\n  async function createWizard ({ submission, vm }) {\n    let groupId = getGroupId(submission);\n\n    if (submissionHasGroup(groupId)) {\n      return Object.assign({}, getNewUserWizard(vm), { groupId: groupId });\n    }\n    return Object.assign({}, getNewGroupWizard(vm), { groupId: groupId });\n  }\n  function prepareNewGroupObject ({ submission, vm, info }) {\n    let groupName = info[0];\n    let participantName = info[1];\n    let nextParticipant = info[2];\n    // Format the parallelSurvey object\n    let parallelSurvey = {\n      groupId: uuidv4(),\n      groupName: groupName,\n      participantName: participantName,\n      submissionId: submission._id\n    };\n\n    // Store information of the parallelSurvey on the current submission\n    vm.currentSubmission.data.parallelSurvey = Submission('*').local().setParallelSurvey(parallelSurvey);\n\n    // New survey Information\n    let surveyData = {\n      parallelSurvey: Submission('*').local().setParallelSurvey({\n        ...parallelSurvey,\n        participantName: nextParticipant\n      })\n    };\n\n    return surveyData;\n  }\n\n  function prepareNewUserObject ({ submission, vm, info }) {\n    let participantName = info[0];\n    let parallelsurveyInfo = Submission('*').local().getParallelSurvey(submission);\n\n    parallelsurveyInfo.participantName = participantName;\n    // New survey Information\n    let surveyData = {\n      parallelSurvey: Submission('*').local().setParallelSurvey(parallelsurveyInfo)\n    };\n\n    return surveyData;\n  }\n\n  async function createNewSurvey ({ submission, vm, info }) {\n    let groupId = getGroupId(submission);\n\n    if (submissionHasGroup(groupId)) {\n      return prepareNewUserObject({ submission, vm, info });\n    }\n    return prepareNewGroupObject({ submission, vm, info });\n  }\n  /*\n  async function storeNewSurvey ({ survey, vm }) {\n    let formio = new Formio(vm.$FAST_CONFIG.APP_URL + '/' + vm.$route.params.idForm);\n    // De register if there was a previous registration\n\n    Formio.deregisterPlugin('offline');\n    // Register the plugin for offline mode\n    Formio.registerPlugin(OFFLINE_PLUGIN.getPlugin({ formio: formio, hashField: vm.hashField }), 'offline');\n\n    let formSubmission = {\n      data: survey,\n      redirect: 'Update',\n      draft: true,\n      trigger: 'createParalelSurvey'\n    };\n\n    let created = await formio.saveSubmission(formSubmission);\n\n    return created;\n  }\n*/\n  return Object.freeze({\n    createWizard,\n    createNewSurvey\n    // storeNewSurvey\n  });\n})();\n\nexport default ParallelSurvey;\n","// import Formio from 'formiojs/Formio';\n// import offlinePlugin from 'offlinePlugin/offlinePlugin';\nimport Submission from 'models/Submission';\nimport Event from 'Wrappers/Event';\nimport Promise from 'bluebird';\nlet Import = class {\n  /**\n   *\n   * @param {*} file\n   * @param {*} vm\n   */\n  static fromJsonFile (file, vm) {\n    var reader = new FileReader();\n    // Closure to capture the file information.\n\n    reader.onload = (function (theFile) {\n      return function (e) {\n        let json;\n\n        try {\n          json = JSON.parse(e.target.result);\n        } catch (ex) {\n          throw new Error('The Json file could not be parsed');\n        }\n        Import.parseJson(json, vm);\n      };\n    })(file);\n    reader.readAsText(file);\n  }\n  /**\n   *\n   * @param {*} json\n   * @param {*} vm\n   */\n  static async parseJson (json, vm) {\n    // let totalSubmissions = json.length;\n    let formio = Import.getFormIOInstance(vm);\n\n    // Loading.show({ message: 'Importing ' + totalSubmissions + ' submissions' });\n    // json = json.slice(151, 200);\n\n    Promise.each(json, async function (row, index) {\n      // await Uploader.sendDataToFormIO(row)\n      let submission = Import.prepareSubmission(row);\n\n      await Import.saveSubmission(submission, formio, vm);\n    })\n      .then(() => {\n        Event.emit({ name: 'FAST:DATA:IMPORTED', data: { imported: true }, text: 'Data was imported' });\n      })\n      .catch((error) => {\n        // Loading.hide(error);\n        console.log(error);\n        vm.$swal(\n          vm.$t('Import Error!'),\n          vm.$t('Your submission could not be Imported. Please check the format of your Json file.'),\n          'error'\n        );\n      });\n  }\n\n  static emitNotification (vm) {\n    vm.$eventHub.emit('FAST-DATA_IMPORTED');\n  }\n  /**\n   *\n   * @param {*} row\n   */\n  static prepareSubmission (row) {\n    if (row.id || row._id) {\n      delete row.id;\n      delete row._id;\n    }\n    if (row.modified) {\n      delete row.modified;\n    }\n    if (row.owner) {\n      delete row.owner;\n    }\n    let data = row.data ? row.data : row;\n    let formSubmission = {\n      data: data,\n      redirect: false,\n      syncError: false,\n      draft: true,\n      trigger: 'importSubmission'\n    };\n\n    return formSubmission;\n  }\n  /**\n   *\n   * @param {*} vm\n   */\n  /*\n  static getFormIOInstance (vm) {\n    Formio.deregisterPlugin('offline');\n    Formio.registerPlugin(offlinePlugin.getPlugin(vm.form.data.path, undefined, false), 'offline');\n    let APP_URL = vm.$FAST_CONFIG.APP_URL;\n    let formUrl = APP_URL + '/' + vm.form.data.path;\n    let formio = new Formio(formUrl);\n\n    return formio;\n  }\n*/\n  /**\n   *\n   * @param {*} vm\n   */\n  static async saveSubmission (submission, formio, vm) {\n    // let processedSubmission = PreProcess.JsonSubmission(submission);\n\n    await Submission('*').add({ submission: submission, formio: formio });\n  }\n};\n\nexport default Import;\n","import GetRequest from './getRequest';\n\nconst OFFLINE_PLUGIN = class {\n  static get () {\n    let plugin = {\n      priority: 0,\n      preRequest: async (args) => {\n        if (args.method === 'GET') {\n          return GetRequest.handle(args);\n        }\n      },\n      request: async (args) => {\n        if (args.method === 'GET') {\n          return GetRequest.handle(args);\n        }\n      },\n      staticRequest: async (args) => {\n        if (args.method === 'GET') {\n          return GetRequest.handle(args);\n        }\n      }\n    };\n\n    return plugin;\n  }\n};\n\nexport default OFFLINE_PLUGIN;\n","import Form from 'models/Form';\n\nconst GetRequest = class {\n  /**\n   *\n   * @param {*} args\n   */\n  static async handle (args) {\n    // If we are making a request to a external API (NOT FORM.io)\n    if (args.url.indexOf('form.io') === -1) {\n      return GetRequest.handleExternalAPI(args);\n    }\n    // If we are trying to get a form we load it locally\n    // This action will get triggered when we load a create form\n    // of a resource from inside of another Form\n    if (args.type === 'form') {\n      return GetRequest.handleLocalForm(args);\n    }\n    // Calling to an internal Form.io route from Select component\n    if (args.type === 'select' && args.url.indexOf('form.io') !== -1) {\n      return GetRequest.handleInternalResource(args);\n    }\n  }\n  /**\n   *\n   */\n  static handleExternalAPI () {\n    // TODO\n    return null;\n  }\n  /**\n   *\n   * @param {*} args\n   */\n  static async handleLocalForm (args) {\n    return await Form.local()\n      .where('data.path', '=', args.formio.formId)\n      .first();\n  }\n  /**\n   *\n   * @param {*} args\n   */\n  static async handleInternalResource (args) {\n    return null;\n    let formID = args && args.url && args.url.split('/')[4];\n    let form = await Form.local().find();\n\n    form = form.filter((f) => {\n      return f.data._id === formID;\n    })[0];\n\n    if (!form) {\n      return;\n    }\n    /* let submissions = await Submission.local().find();\n\n    submissions = submissions.filter((s) => {\n      return s.data.formio.formId === form.data.path && s.data.owner === Auth.user()._id;\n    });\n\n    submissions = submissions.map((s) => {\n      return { data: s.data.data };\n    });\n\n    // return submissions;\n    */\n  }\n};\n\nexport default GetRequest;\n","import md5 from 'md5';\nimport Configuration from '../../models/Configuration';\n\nlet Hash = class {\n  static async string (string) {\n    let config = await Configuration.local().first();\n    let hashed = '';\n\n    hashed = md5(string, config.MD5_KEY);\n    return hashed;\n  }\n};\n\nexport default Hash;\n"],"sourceRoot":""}